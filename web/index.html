<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>StudyBot | AI-Powered Study Task Manager</title>
<meta name="description" content="StudyBot ‚Äî Your AI-powered personal study assistant. Manage tasks, track performance, and get smart study insights.">
<meta name="keywords" content="task manager, study planner, AI assistant, productivity app, student tools">
<meta name="author" content="StudyBot">
<meta property="og:title" content="StudyBot | AI-Powered Study Task Manager">
<meta property="og:description" content="Your AI-powered personal study assistant ‚Äî manage tasks, track performance, and study smarter.">
<meta property="og:type" content="website">
<meta name="theme-color" content="#080c14">
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìö</text></svg>">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=Lora:ital,wght@0,500;1,400&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js" defer></script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
:root{
  --bg:#060a10;--surface:#0c1420;--surface2:#121e2e;--surface3:#1a2d44;
  --border:#1c3050;--border2:#264570;
  --accent:#5eead4;--accent2:#818cf8;--accent3:#fb7185;--accent4:#fbbf24;--accent5:#34d399;
  --text:#dde8f5;--text2:#94a3b8;--text3:#475569;
  --font:'Syne',sans-serif;--font-serif:'Lora',Georgia,serif;--font-mono:'JetBrains Mono',monospace;
  --r:8px;--r-lg:14px;--r-xl:20px;--r-2xl:28px;
  --shadow:0 12px 48px rgba(0,0,0,0.7);
  --glow-teal:0 0 24px rgba(94,234,212,0.18);
  --glow-indigo:0 0 24px rgba(129,140,248,0.18);
  --transition: all 0.2s cubic-bezier(0.4,0,0.2,1);
}
[data-theme="light"]{
  --bg:#f0f4fa;--surface:#ffffff;--surface2:#f5f8fc;--surface3:#e8edf5;
  --border:#d1dae8;--border2:#b8c7dc;
  --text:#1a2540;--text2:#4a5672;--text3:#8896b0;
}

html{scroll-behavior:smooth;font-size:15px;}
body{background:var(--bg);color:var(--text);font-family:var(--font);line-height:1.6;min-height:100vh;overflow-x:hidden;transition:background 0.3s,color 0.3s;}
body::before{content:'';position:fixed;inset:0;pointer-events:none;z-index:0;
  background:radial-gradient(ellipse 90% 55% at 90% -5%,rgba(94,234,212,0.09) 0%,transparent 60%),
    radial-gradient(ellipse 70% 60% at 10% 100%,rgba(129,140,248,0.07) 0%,transparent 60%),
    radial-gradient(ellipse 50% 40% at 50% 50%,rgba(251,113,133,0.04) 0%,transparent 70%);}
[data-theme="light"] body::before{display:none;}

/* SCROLLBAR */
::-webkit-scrollbar{width:5px;}
::-webkit-scrollbar-track{background:transparent;}
::-webkit-scrollbar-thumb{background:var(--border2);border-radius:3px;}

/* FOCUS */
:focus-visible{outline:2px solid var(--accent);outline-offset:2px;border-radius:4px;}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   LANDING PAGE
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
#landingPage{position:relative;z-index:1;}

/* NAV */
.lp-nav{position:fixed;top:0;left:0;right:0;z-index:90;padding:0 40px;height:68px;display:flex;align-items:center;justify-content:space-between;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);background:rgba(6,10,16,0.85);border-bottom:1px solid var(--border);transition:var(--transition);}
[data-theme="light"] .lp-nav{background:rgba(240,244,250,0.9);}
.lp-logo{font-size:1.35rem;font-weight:800;letter-spacing:-0.5px;display:flex;align-items:center;gap:10px;}
.lp-logo-dot{width:8px;height:8px;border-radius:50%;background:var(--accent);box-shadow:0 0 10px var(--accent);animation:pulseDot 2s infinite;}
@keyframes pulseDot{0%,100%{opacity:1;transform:scale(1);}50%{opacity:0.5;transform:scale(0.7);}}
.lp-logo span{color:var(--accent);}
.lp-nav-links{display:flex;align-items:center;gap:6px;}
.lp-link{padding:8px 14px;border-radius:var(--r);color:var(--text2);font-size:0.875rem;font-weight:600;cursor:pointer;border:none;background:none;font-family:var(--font);transition:var(--transition);text-decoration:none;}
.lp-link:hover{color:var(--text);background:var(--surface2);}
.lp-cta-btn{padding:8px 20px;border-radius:var(--r);background:var(--accent);color:#060a10;font-weight:700;font-size:0.875rem;cursor:pointer;border:none;font-family:var(--font);transition:var(--transition);white-space:nowrap;}
.lp-cta-btn:hover{transform:translateY(-1px);box-shadow:var(--glow-teal);}
.theme-toggle{width:36px;height:36px;border-radius:var(--r);background:var(--surface2);border:1px solid var(--border2);color:var(--text2);font-size:1rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:var(--transition);}
.theme-toggle:hover{border-color:var(--accent);color:var(--accent);}

/* HERO */
.lp-hero{min-height:100vh;display:flex;align-items:center;justify-content:center;text-align:center;padding:100px 24px 80px;position:relative;}
.hero-badge{display:inline-flex;align-items:center;gap:8px;padding:7px 18px;border-radius:100px;border:1px solid rgba(94,234,212,0.25);background:rgba(94,234,212,0.06);color:var(--accent);font-size:0.8rem;font-weight:700;letter-spacing:1px;margin-bottom:28px;animation:fadeUp 0.6s ease both;}
@keyframes fadeUp{from{opacity:0;transform:translateY(16px);}to{opacity:1;transform:translateY(0);}}
.hero-title{font-size:clamp(2.8rem, 7vw, 5.5rem);font-weight:800;line-height:1.07;letter-spacing:-2px;margin-bottom:22px;animation:fadeUp 0.6s ease 0.1s both;}
.hero-title em{color:var(--accent);font-style:italic;font-family:var(--font-serif);}
.hero-sub{font-size:1.15rem;color:var(--text2);max-width:520px;margin:0 auto 40px;line-height:1.75;animation:fadeUp 0.6s ease 0.2s both;}
.hero-btns{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;animation:fadeUp 0.6s ease 0.3s both;}
.btn-hero-primary{padding:14px 32px;border-radius:var(--r-lg);background:var(--accent);color:#060a10;font-family:var(--font);font-weight:700;font-size:1rem;cursor:pointer;border:none;transition:var(--transition);display:flex;align-items:center;gap:8px;}
.btn-hero-primary:hover{transform:translateY(-2px);box-shadow:0 12px 40px rgba(94,234,212,0.3);}
.btn-hero-secondary{padding:14px 32px;border-radius:var(--r-lg);background:transparent;color:var(--text);font-family:var(--font);font-weight:600;font-size:1rem;cursor:pointer;border:1.5px solid var(--border2);transition:var(--transition);}
.btn-hero-secondary:hover{border-color:var(--accent2);color:var(--accent2);}
.hero-preview{margin-top:70px;animation:fadeUp 0.8s ease 0.5s both;position:relative;}
.hero-preview-inner{background:var(--surface);border:1px solid var(--border2);border-radius:var(--r-2xl);overflow:hidden;box-shadow:0 40px 100px rgba(0,0,0,0.6);max-width:860px;margin:0 auto;position:relative;}
[data-theme="light"] .hero-preview-inner{box-shadow:0 20px 60px rgba(0,0,0,0.15);}
.preview-topbar{background:var(--surface2);padding:14px 20px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:8px;}
.preview-dots{display:flex;gap:6px;}
.preview-dot{width:12px;height:12px;border-radius:50%;}
.preview-dot:nth-child(1){background:#fb7185;}
.preview-dot:nth-child(2){background:var(--accent4);}
.preview-dot:nth-child(3){background:var(--accent5);}
.preview-url{flex:1;background:var(--surface3);border-radius:6px;padding:5px 14px;font-family:var(--font-mono);font-size:0.75rem;color:var(--text3);margin:0 12px;}
.preview-body{display:grid;grid-template-columns:200px 1fr;min-height:340px;}
.preview-sidebar-fake{background:var(--surface2);border-right:1px solid var(--border);padding:16px 12px;display:flex;flex-direction:column;gap:6px;}
.fake-nav{height:36px;border-radius:var(--r);display:flex;align-items:center;gap:8px;padding:0 12px;font-size:0.8rem;color:var(--text3);}
.fake-nav.active{background:rgba(94,234,212,0.1);color:var(--accent);}
.fake-dot{width:7px;height:7px;border-radius:50%;background:currentColor;flex-shrink:0;}
.preview-main-fake{padding:20px;display:flex;flex-direction:column;gap:12px;}
.fake-kpi-row{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;}
.fake-kpi{background:var(--surface2);border:1px solid var(--border);border-radius:10px;padding:14px;display:flex;flex-direction:column;gap:6px;}
.fake-kpi-num{font-size:1.5rem;font-weight:800;}
.fake-kpi-label{font-size:0.7rem;color:var(--text3);}
.fake-tasks{display:flex;flex-direction:column;gap:8px;}
.fake-task{background:var(--surface2);border:1px solid var(--border);border-radius:10px;padding:12px;display:flex;align-items:center;gap:10px;font-size:0.8rem;}
.fake-task-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0;}
.fake-tag{padding:2px 8px;border-radius:100px;font-size:0.65rem;font-weight:700;}

/* FEATURES */
.lp-section{padding:100px 24px;position:relative;z-index:1;}
.section-badge{display:inline-flex;align-items:center;gap:6px;padding:6px 16px;border-radius:100px;border:1px solid var(--border2);color:var(--text2);font-size:0.75rem;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;margin-bottom:20px;}
.section-title{font-size:clamp(1.8rem,4vw,3rem);font-weight:800;letter-spacing:-1px;margin-bottom:14px;line-height:1.15;}
.section-sub{color:var(--text2);font-size:1rem;max-width:520px;margin-bottom:56px;line-height:1.7;}
.features-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:18px;max-width:1100px;margin:0 auto;}
.feature-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--r-xl);padding:28px 26px;transition:var(--transition);position:relative;overflow:hidden;}
.feature-card::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,var(--accent),var(--accent2));opacity:0;transition:var(--transition);}
.feature-card:hover{transform:translateY(-4px);border-color:var(--border2);box-shadow:var(--shadow);}
.feature-card:hover::before{opacity:1;}
.feature-icon{font-size:2.2rem;margin-bottom:16px;display:block;}
.feature-title{font-size:1.1rem;font-weight:700;margin-bottom:8px;}
.feature-desc{font-size:0.875rem;color:var(--text2);line-height:1.65;}

/* STATS */
.stats-section{background:var(--surface);border-top:1px solid var(--border);border-bottom:1px solid var(--border);}
.stats-grid{max-width:900px;margin:0 auto;display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:0;text-align:center;}
.stat-item{padding:48px 24px;border-right:1px solid var(--border);}
.stat-item:last-child{border-right:none;}
.stat-num{font-size:2.8rem;font-weight:800;letter-spacing:-2px;color:var(--accent);font-family:var(--font);}
.stat-label{font-size:0.85rem;color:var(--text2);margin-top:4px;}

/* TESTIMONIALS */
.testimonials-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:18px;max-width:1000px;margin:0 auto;}
.testimonial-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--r-xl);padding:28px;position:relative;}
.testimonial-quote{font-family:var(--font-serif);font-style:italic;font-size:1rem;color:var(--text);line-height:1.7;margin-bottom:20px;}
.testimonial-quote::before{content:'"';font-size:3rem;color:var(--accent);font-family:var(--font-serif);line-height:0;vertical-align:-0.4em;margin-right:4px;opacity:0.6;}
.t-author{display:flex;align-items:center;gap:12px;}
.t-avatar{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:0.875rem;font-weight:700;color:#060a10;}
.t-name{font-weight:700;font-size:0.9rem;}
.t-role{font-size:0.8rem;color:var(--text3);}
.stars{color:var(--accent4);font-size:0.8rem;margin-bottom:12px;}

/* HOW IT WORKS */
.steps-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:20px;max-width:960px;margin:0 auto;position:relative;}
.step-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--r-xl);padding:28px;text-align:center;transition:var(--transition);}
.step-card:hover{border-color:var(--border2);transform:translateY(-3px);}
.step-num{width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--accent2));display:flex;align-items:center;justify-content:center;font-weight:800;font-size:1.1rem;color:#060a10;margin:0 auto 16px;}
.step-title{font-size:1rem;font-weight:700;margin-bottom:8px;}
.step-desc{font-size:0.85rem;color:var(--text2);line-height:1.6;}

/* CTA SECTION */
.cta-section{padding:100px 24px;text-align:center;position:relative;z-index:1;}
.cta-box{max-width:640px;margin:0 auto;background:var(--surface);border:1px solid var(--border2);border-radius:var(--r-2xl);padding:64px 48px;position:relative;overflow:hidden;}
.cta-box::before{content:'';position:absolute;top:-60%;left:-30%;width:160%;height:160%;background:radial-gradient(ellipse,rgba(94,234,212,0.06) 0%,transparent 70%);pointer-events:none;}
.cta-title{font-size:2.2rem;font-weight:800;letter-spacing:-1px;margin-bottom:12px;}
.cta-title em{color:var(--accent);font-style:italic;font-family:var(--font-serif);}
.cta-sub{color:var(--text2);font-size:1rem;margin-bottom:32px;}

/* FOOTER */
footer{background:var(--surface);border-top:1px solid var(--border);padding:48px 40px 32px;position:relative;z-index:1;}
.footer-inner{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:2fr 1fr 1fr;gap:40px;margin-bottom:40px;}
.footer-brand .lp-logo{margin-bottom:12px;}
.footer-brand p{font-size:0.875rem;color:var(--text2);line-height:1.65;max-width:280px;}
.footer-heading{font-size:0.75rem;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--text3);margin-bottom:16px;}
.footer-links{display:flex;flex-direction:column;gap:10px;}
.footer-links a{font-size:0.875rem;color:var(--text2);text-decoration:none;transition:color 0.15s;cursor:pointer;}
.footer-links a:hover{color:var(--accent);}
.footer-bottom{max-width:1100px;margin:0 auto;padding-top:24px;border-top:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;font-size:0.8rem;color:var(--text3);flex-wrap:wrap;gap:8px;}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   AUTH SCREEN
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
#authScreen{position:fixed;inset:0;z-index:300;display:none;align-items:center;justify-content:center;background:var(--bg);padding:16px;}
.auth-wrap{width:100%;max-width:420px;}
.auth-logo-big{font-family:var(--font);font-size:2rem;font-weight:800;text-align:center;margin-bottom:4px;letter-spacing:-1px;}
.auth-logo-big span{color:var(--accent);}
.auth-tagline{text-align:center;color:var(--text2);font-size:0.875rem;margin-bottom:28px;}
.auth-box{background:var(--surface);border:1px solid var(--border2);border-radius:var(--r-xl);padding:32px;box-shadow:var(--shadow);}
.auth-tabs{display:flex;background:var(--surface2);border-radius:var(--r);padding:4px;margin-bottom:24px;gap:4px;}
.auth-tab{flex:1;padding:9px;background:transparent;border:none;color:var(--text2);font-family:var(--font);font-size:0.875rem;font-weight:600;cursor:pointer;border-radius:6px;transition:var(--transition);}
.auth-tab.active{background:var(--accent);color:#060a10;font-weight:700;}
.auth-field{margin-bottom:16px;}
.auth-field label{display:block;font-size:0.7rem;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;color:var(--text3);margin-bottom:6px;}
.auth-field input{width:100%;background:var(--surface2);border:1.5px solid var(--border2);border-radius:var(--r);padding:11px 14px;color:var(--text);font-family:var(--font);font-size:0.875rem;outline:none;transition:var(--transition);}
.auth-field input:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(94,234,212,0.12);}
.auth-field input::placeholder{color:var(--text3);}
.auth-submit{width:100%;padding:13px;border-radius:var(--r);border:none;background:linear-gradient(135deg,var(--accent),var(--accent5));color:#060a10;font-family:var(--font);font-size:0.9rem;font-weight:700;cursor:pointer;transition:var(--transition);margin-top:4px;}
.auth-submit:hover{transform:translateY(-1px);box-shadow:var(--glow-teal);}
.auth-err{color:var(--accent3);font-size:0.8rem;text-align:center;margin-top:10px;min-height:16px;font-weight:600;}
.auth-back{display:flex;align-items:center;justify-content:center;gap:6px;width:100%;padding:10px;border-radius:var(--r);border:1px solid var(--border2);background:none;color:var(--text2);font-family:var(--font);font-size:0.875rem;cursor:pointer;margin-top:16px;transition:var(--transition);}
.auth-back:hover{border-color:var(--accent2);color:var(--accent2);}
.quick-users{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;}
.quick-chip{display:flex;align-items:center;gap:6px;padding:6px 14px;border-radius:100px;background:var(--surface2);border:1px solid var(--border2);font-size:0.8rem;cursor:pointer;color:var(--text2);transition:var(--transition);}
.quick-chip:hover{border-color:var(--accent);color:var(--accent);}
.quick-chip-avatar{width:20px;height:20px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--accent2));display:flex;align-items:center;justify-content:center;font-size:0.65rem;font-weight:700;color:#060a10;}
.auth-divider{text-align:center;color:var(--text3);font-size:0.75rem;margin:16px 0 12px;position:relative;}
.auth-divider::before{content:'';position:absolute;left:0;top:50%;width:100%;height:1px;background:var(--border);z-index:0;}
.auth-divider span{position:relative;z-index:1;background:var(--surface);padding:0 12px;}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   APP LAYOUT
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
#mainApp{position:relative;z-index:1;display:grid;grid-template-columns:248px 1fr 310px;grid-template-rows:60px 1fr;height:100vh;display:none;}

appheader,header{grid-column:1/-1;display:flex;align-items:center;justify-content:space-between;padding:0 22px;border-bottom:1px solid var(--border);background:rgba(6,10,16,0.97);backdrop-filter:blur(16px);position:sticky;top:0;z-index:50;}
[data-theme="light"] header{background:rgba(240,244,250,0.97);}
.logo{font-family:var(--font);font-size:1.2rem;font-weight:800;letter-spacing:-0.5px;display:flex;align-items:center;gap:8px;color:var(--text);}
.logo em{color:var(--accent);font-style:normal;}
.logo-dot{width:8px;height:8px;border-radius:50%;background:var(--accent);box-shadow:0 0 8px var(--accent);animation:pulseDot 2s infinite;}
.header-center{display:flex;align-items:center;gap:8px;font-size:0.8rem;color:var(--text3);font-family:var(--font-mono);}
.header-center strong{color:var(--accent);}
.header-right{display:flex;align-items:center;gap:8px;}
.icon-pill-btn{width:34px;height:34px;border-radius:var(--r);background:var(--surface2);border:1px solid var(--border2);color:var(--text2);font-size:1rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:var(--transition);}
.icon-pill-btn:hover{border-color:var(--accent4);color:var(--accent4);}
.notif-btn-wrap{position:relative;}
.notif-badge{position:absolute;top:-4px;right:-4px;width:16px;height:16px;border-radius:50%;background:var(--accent3);font-size:0.6rem;font-weight:700;color:#fff;display:flex;align-items:center;justify-content:center;border:2px solid var(--bg);}
.notif-badge.hidden{display:none;}
.user-pill{display:flex;align-items:center;gap:8px;padding:5px 12px 5px 5px;background:var(--surface2);border:1px solid var(--border2);border-radius:100px;cursor:pointer;transition:var(--transition);font-size:0.875rem;font-weight:600;}
.user-pill:hover{border-color:var(--accent3);}
.u-avatar{width:26px;height:26px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--accent2));display:flex;align-items:center;justify-content:center;font-size:0.75rem;font-weight:700;color:#060a10;}
.hamburger{display:none;flex-direction:column;gap:5px;background:none;border:none;cursor:pointer;padding:6px;border-radius:var(--r);}
.hamburger span{display:block;width:20px;height:2px;background:var(--text);border-radius:2px;}
.ai-toggle-btn{display:none;align-items:center;gap:6px;padding:7px 13px;background:rgba(94,234,212,0.1);border:1px solid rgba(94,234,212,0.25);color:var(--accent);border-radius:var(--r);font-size:0.8rem;font-weight:700;cursor:pointer;font-family:var(--font);}

/* SIDEBAR */
.sidebar{background:var(--surface);border-right:1px solid var(--border);padding:18px 12px;overflow-y:auto;display:flex;flex-direction:column;gap:6px;}
.sidebar-label{font-size:0.65rem;font-weight:700;letter-spacing:2.5px;text-transform:uppercase;color:var(--text3);padding:0 10px;margin:14px 0 5px;}
.sidebar-label:first-child{margin-top:0;}
.nav-btn{display:flex;align-items:center;gap:10px;width:100%;padding:10px 12px;border-radius:var(--r);border:none;background:transparent;color:var(--text2);font-family:var(--font);font-size:0.875rem;font-weight:600;cursor:pointer;transition:var(--transition);text-align:left;}
.nav-btn:hover{background:var(--surface2);color:var(--text);}
.nav-btn.active{background:rgba(94,234,212,0.1);color:var(--accent);border:1px solid rgba(94,234,212,0.18);}
.nav-btn .icon{font-size:1rem;width:20px;text-align:center;}
.stat-mini{display:flex;justify-content:space-between;align-items:center;padding:7px 12px;font-size:0.8rem;color:var(--text3);}
.stat-mini-val{font-family:var(--font);font-size:1.2rem;font-weight:800;color:var(--text);}
.stat-mini-val.green{color:var(--accent);}
.stat-mini-val.red{color:var(--accent3);}
.stat-mini-val.blue{color:var(--accent2);}
.sidebar-divider{height:1px;background:var(--border);margin:6px 8px;}

/* MAIN */
.main{overflow-y:auto;padding:26px 28px;display:flex;flex-direction:column;gap:22px;background:transparent;}
.page{display:none;flex-direction:column;gap:22px;}
.page.active{display:flex;}
.page-header{display:flex;flex-direction:column;gap:4px;}
.page-title{font-family:var(--font);font-size:1.8rem;font-weight:800;letter-spacing:-0.5px;line-height:1.1;}
.page-title em{color:var(--accent);font-style:italic;font-family:var(--font-serif);}
.page-sub{font-size:0.875rem;color:var(--text3);}

/* DASHBOARD */
.dash-greeting{font-family:var(--font);font-size:1.5rem;font-weight:800;letter-spacing:-0.5px;}
.dash-greeting span{color:var(--accent);}
.kpi-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:12px;}
.kpi-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--r-lg);padding:18px 16px;display:flex;flex-direction:column;gap:8px;transition:var(--transition);}
.kpi-card:hover{transform:translateY(-2px);border-color:var(--border2);box-shadow:0 8px 28px rgba(0,0,0,0.3);}
.kpi-icon{font-size:1.3rem;}
.kpi-val{font-family:var(--font);font-size:2rem;font-weight:800;line-height:1;}
.kpi-val.green{color:var(--accent);}
.kpi-val.blue{color:var(--accent2);}
.kpi-val.pink{color:var(--accent3);}
.kpi-val.orange{color:var(--accent4);}
.kpi-label{font-size:0.7rem;color:var(--text3);font-weight:700;letter-spacing:0.5px;text-transform:uppercase;}

.dash-panels{display:grid;grid-template-columns:1fr 1fr;gap:14px;}
.panel{background:var(--surface);border:1px solid var(--border);border-radius:var(--r-lg);padding:20px;}
.panel-title{font-size:0.7rem;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--text3);margin-bottom:16px;display:flex;align-items:center;gap:6px;}
.panel-title span{font-size:0.9rem;}
.chart-wrap{position:relative;height:170px;}

.streak-days{display:grid;grid-template-columns:repeat(7,1fr);gap:5px;margin-bottom:12px;}
.s-day{aspect-ratio:1;border-radius:6px;background:var(--surface2);border:1px solid var(--border);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2px;}
.s-day .s-label{font-size:0.55rem;color:var(--text3);font-weight:700;letter-spacing:0.5px;}
.s-day .s-dot{width:7px;height:7px;border-radius:50%;background:var(--border);}
.s-day.active .s-dot{background:var(--accent);box-shadow:0 0 6px var(--accent);}
.s-day.active .s-label{color:var(--accent);}
.s-day.today{border-color:var(--accent2);}
.s-day.today .s-label{color:var(--accent2);}
.streak-score{display:flex;align-items:center;gap:10px;padding:10px 12px;background:var(--surface2);border-radius:var(--r);margin-top:8px;}
.streak-fire{font-size:1.6rem;}
.streak-num{font-family:var(--font);font-size:1.5rem;font-weight:800;color:var(--accent4);}
.streak-txt{font-size:0.75rem;color:var(--text3);}

.recent-list{display:flex;flex-direction:column;gap:6px;}
.recent-item{display:flex;align-items:center;gap:10px;padding:9px 11px;background:var(--surface2);border-radius:var(--r);border:1px solid transparent;transition:var(--transition);}
.recent-item:hover{border-color:var(--border2);}
.recent-dot{width:7px;height:7px;border-radius:50%;flex-shrink:0;}
.recent-title{flex:1;font-size:0.875rem;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.recent-status{font-size:0.65rem;padding:2px 8px;border-radius:100px;border:1px solid;font-weight:700;}

/* TASKS */
.toolbar{display:flex;align-items:center;gap:8px;flex-wrap:wrap;}
.filter-chip{padding:6px 14px;border-radius:100px;border:1px solid var(--border2);background:transparent;color:var(--text3);font-family:var(--font);font-size:0.8rem;font-weight:600;cursor:pointer;transition:var(--transition);}
.filter-chip:hover{border-color:var(--accent);color:var(--accent);}
.filter-chip.active{background:var(--accent);color:#060a10;border-color:var(--accent);font-weight:700;}
.search-box{flex:1;min-width:140px;max-width:280px;padding:8px 14px;border-radius:100px;border:1.5px solid var(--border2);background:var(--surface2);color:var(--text);font-family:var(--font);font-size:0.875rem;outline:none;transition:var(--transition);}
.search-box:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(94,234,212,0.1);}
.search-box::placeholder{color:var(--text3);}

.task-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(270px,1fr));gap:12px;}
.task-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--r-lg);padding:16px 18px;transition:var(--transition);position:relative;overflow:hidden;}
.task-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;}
.task-card.priority-high::before{background:var(--accent3);}
.task-card.priority-medium::before{background:var(--accent4);opacity:0.8;}
.task-card.priority-low::before{background:var(--accent2);opacity:0.5;}
.task-card:hover{border-color:var(--border2);transform:translateY(-2px);box-shadow:0 8px 28px rgba(0,0,0,0.35);}
.task-card-top{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px;gap:8px;}
.task-title{font-size:1rem;font-weight:700;line-height:1.3;flex:1;}
.task-card.completed .task-title{text-decoration:line-through;color:var(--text3);}
.task-card-actions{display:flex;gap:3px;flex-shrink:0;opacity:0;transition:var(--transition);}
.task-card:hover .task-card-actions,.task-card:focus-within .task-card-actions{opacity:1;}
@media(hover:none){.task-card-actions{opacity:1!important;}}
.icon-btn{width:28px;height:28px;border-radius:7px;border:none;background:var(--surface2);color:var(--text3);font-size:0.8rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:var(--transition);}
.icon-btn:hover{background:var(--surface3);color:var(--text);}
.icon-btn.danger:hover{background:rgba(251,113,133,0.15);color:var(--accent3);}
.icon-btn.ai-btn:hover{background:rgba(94,234,212,0.12);color:var(--accent);}
.task-desc{font-size:0.8rem;color:var(--text3);margin-top:4px;line-height:1.5;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;}
.task-meta{display:flex;gap:5px;flex-wrap:wrap;margin-top:8px;}
.badge{padding:2px 8px;border-radius:100px;font-size:0.7rem;font-weight:700;border:1px solid;}
.badge-subject{background:rgba(129,140,248,0.1);color:var(--accent2);border-color:rgba(129,140,248,0.2);}
.badge-high{background:rgba(251,113,133,0.1);color:var(--accent3);border-color:rgba(251,113,133,0.2);}
.badge-medium{background:rgba(251,191,36,0.1);color:var(--accent4);border-color:rgba(251,191,36,0.2);}
.badge-low{background:rgba(71,85,105,0.15);color:var(--text3);border-color:var(--border2);}
.badge-pending{background:rgba(251,191,36,0.1);color:var(--accent4);border-color:rgba(251,191,36,0.2);}
.badge-in-progress{background:rgba(129,140,248,0.1);color:var(--accent2);border-color:rgba(129,140,248,0.2);}
.badge-completed{background:rgba(94,234,212,0.1);color:var(--accent);border-color:rgba(94,234,212,0.2);}
.task-due{font-size:0.8rem;color:var(--text3);margin-top:6px;display:flex;align-items:center;gap:4px;}
.task-due.overdue{color:var(--accent3);font-weight:600;}
.subtasks-list{margin-top:10px;padding-top:10px;border-top:1px solid var(--border);display:flex;flex-direction:column;gap:5px;}
.subtask-item{display:flex;align-items:center;gap:8px;font-size:0.8rem;color:var(--text3);cursor:pointer;padding:2px 0;transition:color 0.15s;}
.subtask-item:hover{color:var(--text);}
.subtask-check{width:14px;height:14px;border-radius:3px;border:1.5px solid var(--border2);flex-shrink:0;display:flex;align-items:center;justify-content:center;font-size:0.6rem;transition:all 0.15s;}
.subtask-item.done .subtask-check{background:var(--accent);border-color:var(--accent);color:#060a10;}
.subtask-item.done span{text-decoration:line-through;color:var(--text3);}
.empty-state{grid-column:1/-1;text-align:center;padding:60px 20px;color:var(--text3);}
.empty-state .big{font-size:3rem;margin-bottom:12px;}
.empty-state p{font-family:var(--font-serif);font-style:italic;font-size:1.1rem;color:var(--text2);}

/* ADD FORM */
.add-form{background:var(--surface);border:1px solid var(--border);border-radius:var(--r-lg);padding:26px;display:flex;flex-direction:column;gap:16px;}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:14px;}
.form-group{display:flex;flex-direction:column;gap:5px;}
.form-group.full{grid-column:1/-1;}
label{font-size:0.7rem;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;color:var(--text3);}
input[type="text"],input[type="date"],input[type="email"],input[type="password"],textarea,select{background:var(--surface2);border:1.5px solid var(--border2);border-radius:var(--r);padding:10px 13px;color:var(--text);font-family:var(--font);font-size:0.875rem;outline:none;transition:var(--transition);width:100%;}
input:focus,textarea:focus,select:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(94,234,212,0.1);}
input::placeholder,textarea::placeholder{color:var(--text3);}
textarea{resize:vertical;min-height:80px;}
select option{background:var(--surface2);}
.btn{padding:10px 18px;border-radius:var(--r);border:none;font-family:var(--font);font-size:0.875rem;font-weight:700;cursor:pointer;transition:var(--transition);display:inline-flex;align-items:center;gap:5px;}
.btn-primary{background:linear-gradient(135deg,var(--accent),var(--accent5));color:#060a10;}
.btn-primary:hover{transform:translateY(-1px);box-shadow:var(--glow-teal);}
.btn-secondary{background:var(--surface2);color:var(--text);border:1.5px solid var(--border2);}
.btn-secondary:hover{border-color:var(--accent2);color:var(--accent2);}
.btn-ai{background:rgba(94,234,212,0.1);color:var(--accent);border:1.5px solid rgba(94,234,212,0.25);}
.btn-ai:hover{background:rgba(94,234,212,0.18);}
.form-actions{display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap;}

/* PERFORMANCE */
.perf-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(190px,1fr));gap:12px;}
.perf-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--r-lg);padding:18px;display:flex;flex-direction:column;gap:5px;}
.perf-card-title{font-size:0.7rem;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;color:var(--text3);}
.perf-card-val{font-family:var(--font);font-size:2rem;font-weight:800;}
.perf-card-desc{font-size:0.8rem;color:var(--text3);}
.perf-item{display:flex;align-items:center;gap:10px;margin-bottom:10px;}
.perf-label{font-size:0.8rem;color:var(--text2);width:80px;flex-shrink:0;}
.perf-bar-wrap{flex:1;height:6px;background:var(--surface2);border-radius:3px;overflow:hidden;}
.perf-bar{height:100%;border-radius:3px;transition:width 1s ease;}
.perf-pct{font-size:0.8rem;color:var(--text2);width:30px;text-align:right;font-weight:700;}
.heatmap{display:grid;grid-template-columns:repeat(7,1fr);gap:4px;}
.heat-cell{aspect-ratio:1;border-radius:3px;background:var(--surface2);}
.heat-cell.l1{background:rgba(94,234,212,0.25);}
.heat-cell.l2{background:rgba(94,234,212,0.5);}
.heat-cell.l3{background:rgba(94,234,212,0.75);}
.heat-cell.l4{background:var(--accent);}

/* TIMELINE */
.timeline{display:flex;flex-direction:column;gap:10px;}
.tl-item{display:flex;gap:14px;align-items:flex-start;padding:14px 18px;background:var(--surface);border:1px solid var(--border);border-radius:var(--r-lg);transition:var(--transition);}
.tl-item:hover{border-color:var(--border2);transform:translateX(3px);}
.tl-date{text-align:center;min-width:40px;flex-shrink:0;}
.tl-day{font-family:var(--font);font-size:1.5rem;font-weight:800;line-height:1;color:var(--accent2);}
.tl-month{font-size:0.65rem;color:var(--text3);letter-spacing:1px;text-transform:uppercase;margin-top:2px;}
.tl-content{flex:1;}
.tl-title{font-family:var(--font);font-size:1rem;font-weight:700;margin-bottom:5px;}
.tl-actions{display:flex;gap:5px;align-items:center;}

/* AI PANEL */
.ai-panel{background:var(--surface);border-left:1px solid var(--border);display:flex;flex-direction:column;overflow:hidden;}
.ai-head{padding:14px 16px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:10px;}
.ai-avatar-wrap{width:32px;height:32px;border-radius:8px;background:linear-gradient(135deg,var(--accent),var(--accent2));display:flex;align-items:center;justify-content:center;font-size:1rem;flex-shrink:0;box-shadow:var(--glow-teal);}
.ai-name{font-weight:700;font-size:0.9rem;}
.ai-status{font-size:0.7rem;color:var(--accent);display:flex;align-items:center;gap:4px;}
.ai-status::before{content:'';width:5px;height:5px;border-radius:50%;background:var(--accent);display:inline-block;animation:pulseDot 2s infinite;}
.ai-close-btn{display:none;background:none;border:none;color:var(--text3);font-size:1.1rem;cursor:pointer;padding:4px;border-radius:6px;transition:var(--transition);margin-left:auto;}
.ai-close-btn:hover{color:var(--accent3);}
.ai-messages{flex:1;overflow-y:auto;padding:14px;display:flex;flex-direction:column;gap:10px;}
.msg{display:flex;gap:7px;animation:msgIn 0.25s ease both;}
@keyframes msgIn{from{opacity:0;transform:translateY(5px);}to{opacity:1;transform:translateY(0);}}
.msg.user{flex-direction:row-reverse;}
.msg-bubble{max-width:88%;padding:9px 13px;border-radius:12px;font-size:0.875rem;line-height:1.55;}
.msg.ai .msg-bubble{background:var(--surface2);border:1px solid var(--border2);border-bottom-left-radius:3px;}
.msg.user .msg-bubble{background:rgba(94,234,212,0.1);border:1px solid rgba(94,234,212,0.18);border-bottom-right-radius:3px;}
.msg-av{width:24px;height:24px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:0.8rem;flex-shrink:0;align-self:flex-end;}
.msg.ai .msg-av{background:linear-gradient(135deg,var(--accent),var(--accent2));}
.msg.user .msg-av{background:var(--surface2);border:1px solid var(--border2);}
.quick-chips{padding:8px 14px;display:flex;gap:5px;flex-wrap:wrap;border-top:1px solid var(--border);}
.q-chip{padding:5px 10px;border-radius:100px;border:1px solid var(--border2);background:transparent;color:var(--text3);font-family:var(--font);font-size:0.7rem;font-weight:600;cursor:pointer;transition:var(--transition);white-space:nowrap;}
.q-chip:hover{border-color:var(--accent);color:var(--accent);}
.ai-input-row{padding:10px 14px;display:flex;gap:7px;border-top:1px solid var(--border);}
.ai-input{flex:1;background:var(--surface2);border:1.5px solid var(--border2);border-radius:var(--r);padding:9px 13px;color:var(--text);font-family:var(--font);font-size:0.875rem;outline:none;transition:var(--transition);}
.ai-input:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(94,234,212,0.1);}
.send-btn{width:36px;height:36px;border-radius:8px;border:none;background:linear-gradient(135deg,var(--accent),var(--accent5));color:#060a10;font-size:0.9rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:var(--transition);flex-shrink:0;}
.send-btn:hover{transform:scale(1.05);}
.send-btn:disabled{background:var(--surface2);color:var(--text3);cursor:default;transform:none;}
.typing-row{display:flex;gap:4px;padding:8px 12px;}
.t-dot{width:6px;height:6px;border-radius:50%;background:var(--text3);animation:tdot 1.2s ease-in-out infinite;}
.t-dot:nth-child(2){animation-delay:.15s;}.t-dot:nth-child(3){animation-delay:.3s;}
@keyframes tdot{0%,80%,100%{opacity:0.3;transform:scale(0.8);}40%{opacity:1;transform:scale(1.15);}}

/* NOTIF PANEL */
.notif-panel{position:fixed;top:66px;right:16px;width:330px;background:var(--surface);border:1px solid var(--border2);border-radius:var(--r-xl);box-shadow:var(--shadow);z-index:100;display:none;flex-direction:column;overflow:hidden;max-height:480px;}
.notif-panel.open{display:flex;}
.notif-header{padding:13px 15px;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;}
.notif-header-title{font-weight:700;font-size:0.9rem;}
.notif-clear{background:none;border:none;color:var(--text3);font-size:0.8rem;cursor:pointer;padding:4px 8px;border-radius:6px;transition:var(--transition);font-family:var(--font);}
.notif-clear:hover{color:var(--accent3);}
.notif-list{overflow-y:auto;flex:1;}
.notif-item{padding:11px 15px;border-bottom:1px solid var(--border);display:flex;gap:10px;align-items:flex-start;transition:background 0.15s;cursor:pointer;}
.notif-item:hover{background:var(--surface2);}
.notif-item.unread{border-left:3px solid var(--accent4);}
.notif-icon{font-size:1.1rem;flex-shrink:0;margin-top:1px;}
.notif-text{font-size:0.875rem;font-weight:600;line-height:1.4;}
.notif-time{font-size:0.7rem;color:var(--text3);margin-top:2px;}
.notif-empty{padding:28px;text-align:center;color:var(--text3);font-size:0.875rem;}

/* MODAL */
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.8);backdrop-filter:blur(6px);z-index:200;display:none;align-items:center;justify-content:center;padding:16px;}
.modal-overlay.open{display:flex;}
.modal{background:var(--surface);border:1px solid var(--border2);border-radius:var(--r-xl);padding:26px;width:100%;max-width:500px;box-shadow:var(--shadow);max-height:90vh;overflow-y:auto;}
.modal-title{font-family:var(--font);font-size:1.2rem;font-weight:800;margin-bottom:18px;display:flex;align-items:center;gap:8px;}

/* TOAST */
.toast-container{position:fixed;bottom:18px;right:18px;z-index:500;display:flex;flex-direction:column;gap:7px;}
.toast{padding:10px 16px;border-radius:var(--r);border:1px solid var(--border2);background:var(--surface2);font-size:0.875rem;font-weight:600;animation:toastIn .25s ease both;max-width:270px;box-shadow:var(--shadow);font-family:var(--font);}
@keyframes toastIn{from{opacity:0;transform:translateX(16px);}to{opacity:1;transform:translateX(0);}}
.toast.success{border-color:rgba(94,234,212,0.4);color:var(--accent);}
.toast.error{border-color:rgba(251,113,133,0.4);color:var(--accent3);}
.toast.info{border-color:rgba(129,140,248,0.3);color:var(--accent2);}
.toast.warn{border-color:rgba(251,191,36,0.4);color:var(--accent4);}

/* BOTTOM NAV */
.bottom-nav{display:none;position:fixed;bottom:0;left:0;right:0;background:rgba(6,10,16,0.97);backdrop-filter:blur(16px);border-top:1px solid var(--border);z-index:40;padding:8px 4px calc(8px + env(safe-area-inset-bottom));justify-content:space-around;align-items:center;}
.bn-btn{display:flex;flex-direction:column;align-items:center;gap:3px;background:none;border:none;color:var(--text3);font-family:var(--font);font-size:0.65rem;font-weight:600;cursor:pointer;padding:5px 8px;border-radius:var(--r);transition:var(--transition);min-width:50px;}
.bn-btn .bni{font-size:1.2rem;}
.bn-btn.active{color:var(--accent);}
.drawer-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);z-index:55;backdrop-filter:blur(2px);}
.drawer-overlay.open{display:block;}

/* RESPONSIVE */
@media(max-width:1199px){
  #mainApp{grid-template-columns:230px 1fr;}
  .ai-panel{position:fixed;top:0;right:-100%;width:min(340px,90vw);height:100%;z-index:60;transition:right 0.3s ease;box-shadow:-12px 0 40px rgba(0,0,0,0.6);}
  .ai-panel.open{right:0;}
  .ai-close-btn{display:block;}
  .ai-toggle-btn{display:flex;}
  .header-center{display:none;}
  .dash-panels{grid-template-columns:1fr;}
}
@media(max-width:767px){
  #mainApp{grid-template-columns:1fr;grid-template-rows:60px 1fr;}
  .sidebar{position:fixed;top:0;left:-100%;width:260px;height:100%;z-index:60;transition:left 0.3s ease;padding-top:72px;box-shadow:12px 0 40px rgba(0,0,0,0.6);}
  .sidebar.open{left:0;}
  .hamburger{display:flex;}
  header{padding:0 14px;}
  .main{padding:16px 14px 80px;}
  .bottom-nav{display:flex;}
  .task-grid{grid-template-columns:1fr;}
  .form-row{grid-template-columns:1fr;}
  .kpi-grid{grid-template-columns:1fr 1fr;}
  .modal{padding:18px;}
  .form-actions{justify-content:stretch;}
  .form-actions .btn{flex:1;justify-content:center;}
  .toast-container{bottom:72px;right:10px;left:10px;}
  .toast{max-width:100%;}
  .notif-panel{right:10px;left:10px;width:auto;}
  .dash-panels{grid-template-columns:1fr;}
  .add-form{padding:16px;}
  .lp-nav{padding:0 20px;}
  .lp-nav-links .lp-link{display:none;}
  .footer-inner{grid-template-columns:1fr;}
  .stats-grid{grid-template-columns:1fr 1fr;}
  .stat-item{border-right:none;border-bottom:1px solid var(--border);padding:32px 24px;}
  .cta-box{padding:40px 24px;}
  .hero-title{letter-spacing:-1px;}
}
@media(min-width:1400px){
  #mainApp{grid-template-columns:260px 1fr 330px;}
  .main{padding:30px 36px;}
  .kpi-grid{grid-template-columns:repeat(6,1fr);}
}
</style>
</head>
<body>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   LANDING PAGE
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="landingPage">
  <!-- NAV -->
  <nav class="lp-nav" role="navigation" aria-label="Main navigation">
    <div class="lp-logo"><div class="lp-logo-dot" aria-hidden="true"></div>Study<span>Bot</span></div>
    <div class="lp-nav-links">
      <a class="lp-link" href="#features" role="link">Features</a>
      <a class="lp-link" href="#how-it-works" role="link">How It Works</a>
      <a class="lp-link" href="#testimonials" role="link">Reviews</a>
      <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle light/dark theme" title="Toggle theme">üåô</button>
      <button class="lp-cta-btn" onclick="showAuth('login')" aria-label="Login to StudyBot">Login ‚Üí</button>
      <button class="btn-hero-secondary" style="padding:8px 18px;font-size:0.875rem;" onclick="showAuth('register')" aria-label="Create a free account">Sign Up</button>
    </div>
  </nav>

  <!-- HERO -->
  <section class="lp-hero" aria-label="Hero section">
    <div>
      <div class="hero-badge">‚ú® AI-Powered Study Assistant</div>
      <h1 class="hero-title">Study <em>smarter,</em><br>not harder</h1>
      <p class="hero-sub">StudyBot combines intelligent task management with real AI insights to help you ace every deadline, track your performance, and stay ahead ‚Äî effortlessly.</p>
      <div class="hero-btns">
        <button class="btn-hero-primary" onclick="showAuth('register')" aria-label="Get started for free">üöÄ Get Started Free</button>
        <button class="btn-hero-secondary" onclick="showAuth('login')" aria-label="Login to existing account">Login ‚Üí</button>
      </div>
      <!-- PREVIEW MOCK -->
      <div class="hero-preview">
        <div class="hero-preview-inner" role="img" aria-label="StudyBot dashboard preview">
          <div class="preview-topbar">
            <div class="preview-dots"><div class="preview-dot"></div><div class="preview-dot"></div><div class="preview-dot"></div></div>
            <div class="preview-url">studybot.app/dashboard</div>
          </div>
          <div class="preview-body">
            <div class="preview-sidebar-fake">
              <div class="fake-nav active"><div class="fake-dot"></div>Dashboard</div>
              <div class="fake-nav"><div class="fake-dot"></div>Tasks</div>
              <div class="fake-nav"><div class="fake-dot"></div>Upcoming</div>
              <div class="fake-nav"><div class="fake-dot"></div>Performance</div>
              <div class="fake-nav"><div class="fake-dot"></div>Add Task</div>
            </div>
            <div class="preview-main-fake">
              <div style="font-size:1rem;font-weight:700;">Good morning, Student! üëã</div>
              <div class="fake-kpi-row">
                <div class="fake-kpi"><div class="fake-kpi-num" style="color:#5eead4">12</div><div class="fake-kpi-label">Total Tasks</div></div>
                <div class="fake-kpi"><div class="fake-kpi-num" style="color:#818cf8">7</div><div class="fake-kpi-label">Completed</div></div>
                <div class="fake-kpi"><div class="fake-kpi-num" style="color:#fb7185">3</div><div class="fake-kpi-label">High Priority</div></div>
                <div class="fake-kpi"><div class="fake-kpi-num" style="color:#5eead4">58%</div><div class="fake-kpi-label">Progress</div></div>
              </div>
              <div class="fake-tasks">
                <div class="fake-task"><div class="fake-task-dot" style="background:#fb7185"></div><span style="flex:1">Chemistry Lab Report</span><div class="fake-tag" style="background:rgba(251,113,133,0.1);color:#fb7185">high</div></div>
                <div class="fake-task"><div class="fake-task-dot" style="background:#5eead4"></div><span style="flex:1;text-decoration:line-through;color:#475569">Math Assignment ‚úì</span><div class="fake-tag" style="background:rgba(94,234,212,0.1);color:#5eead4">done</div></div>
                <div class="fake-task"><div class="fake-task-dot" style="background:#818cf8"></div><span style="flex:1">English Essay Draft</span><div class="fake-tag" style="background:rgba(129,140,248,0.1);color:#818cf8">progress</div></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- STATS -->
  <section class="stats-section lp-section" style="padding:0;" aria-label="Statistics">
    <div class="stats-grid">
      <div class="stat-item"><div class="stat-num">50K+</div><div class="stat-label">Students Helped</div></div>
      <div class="stat-item"><div class="stat-num">2.4M</div><div class="stat-label">Tasks Managed</div></div>
      <div class="stat-item"><div class="stat-num">94%</div><div class="stat-label">On-Time Completion</div></div>
      <div class="stat-item"><div class="stat-num">4.9‚òÖ</div><div class="stat-label">Average Rating</div></div>
    </div>
  </section>

  <!-- FEATURES -->
  <section class="lp-section" id="features" aria-label="Features">
    <div style="max-width:1100px;margin:0 auto;">
      <div class="section-badge">‚ö° Features</div>
      <h2 class="section-title">Everything you need to <em style="color:var(--accent);font-style:italic;font-family:var(--font-serif)">ace</em> your studies</h2>
      <p class="section-sub">Built specifically for students ‚Äî from managing deadlines to generating AI study plans.</p>
      <div class="features-grid">
        <div class="feature-card"><span class="feature-icon">ü§ñ</span><div class="feature-title">AI Study Assistant</div><div class="feature-desc">Chat with StudyBot AI to get personalized study plans, priority suggestions, and smart task breakdowns.</div></div>
        <div class="feature-card"><span class="feature-icon">üìä</span><div class="feature-title">Performance Analytics</div><div class="feature-desc">Track your completion rates, subject progress, on-time delivery, and weekly trends with beautiful charts.</div></div>
        <div class="feature-card"><span class="feature-icon">‚è∞</span><div class="feature-title">Smart Deadline Tracking</div><div class="feature-desc">Never miss a deadline again. Get smart alerts for overdue, due-today, and upcoming tasks automatically.</div></div>
        <div class="feature-card"><span class="feature-icon">‚ú®</span><div class="feature-title">AI Subtask Generation</div><div class="feature-desc">Turn any big task into manageable steps instantly ‚Äî just click the AI button and let StudyBot do the thinking.</div></div>
        <div class="feature-card"><span class="feature-icon">üî•</span><div class="feature-title">Study Streak Tracking</div><div class="feature-desc">Stay motivated with daily streak tracking. See your study consistency across the week at a glance.</div></div>
        <div class="feature-card"><span class="feature-icon">üì±</span><div class="feature-title">Works Everywhere</div><div class="feature-desc">Fully responsive on desktop, tablet, and mobile. Study on any device, anytime, anywhere.</div></div>
      </div>
    </div>
  </section>

  <!-- HOW IT WORKS -->
  <section class="lp-section" id="how-it-works" style="background:var(--surface);border-top:1px solid var(--border);border-bottom:1px solid var(--border);" aria-label="How it works">
    <div style="max-width:960px;margin:0 auto;text-align:center;">
      <div class="section-badge">üó∫ Process</div>
      <h2 class="section-title">Up and running in <em style="color:var(--accent);font-style:italic;font-family:var(--font-serif)">60 seconds</em></h2>
      <p class="section-sub" style="margin:0 auto 48px;">No complicated setup. Just sign up and start managing your studies smarter immediately.</p>
      <div class="steps-grid">
        <div class="step-card"><div class="step-num">1</div><div class="step-title">Create Account</div><div class="step-desc">Sign up with just your name, email, and password. Free forever, no credit card.</div></div>
        <div class="step-card"><div class="step-num">2</div><div class="step-title">Add Your Tasks</div><div class="step-desc">Import all your assignments, exams, and projects. Set priorities and deadlines.</div></div>
        <div class="step-card"><div class="step-num">3</div><div class="step-title">Let AI Help</div><div class="step-desc">Chat with StudyBot AI to get study schedules, priority suggestions, and auto-generated subtasks.</div></div>
        <div class="step-card"><div class="step-num">4</div><div class="step-title">Track Progress</div><div class="step-desc">Watch your completion rate climb. Celebrate streaks and dominate every deadline.</div></div>
      </div>
    </div>
  </section>

  <!-- TESTIMONIALS -->
  <section class="lp-section" id="testimonials" aria-label="Testimonials">
    <div style="max-width:1000px;margin:0 auto;text-align:center;">
      <div class="section-badge">üí¨ Reviews</div>
      <h2 class="section-title">Students <em style="color:var(--accent);font-style:italic;font-family:var(--font-serif)">love</em> StudyBot</h2>
      <p class="section-sub" style="margin:0 auto 48px;">From stressed freshmen to high-achieving seniors ‚Äî StudyBot works for everyone.</p>
      <div class="testimonials-grid">
        <div class="testimonial-card"><div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div><div class="testimonial-quote">Since using StudyBot, I've never missed a single deadline. The AI suggestions are genuinely impressive.</div><div class="t-author"><div class="t-avatar" style="background:linear-gradient(135deg,#5eead4,#818cf8)">P</div><div><div class="t-name">Priya S.</div><div class="t-role">Engineering Student</div></div></div></div>
        <div class="testimonial-card"><div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div><div class="testimonial-quote">The performance dashboard helped me realise I was spending too much time on low-priority tasks. Game changer!</div><div class="t-author"><div class="t-avatar" style="background:linear-gradient(135deg,#fb7185,#fbbf24)">R</div><div><div class="t-name">Rahul K.</div><div class="t-role">Pre-Med Student</div></div></div></div>
        <div class="testimonial-card"><div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div><div class="testimonial-quote">The AI subtask generator breaks down huge assignments into bite-sized chunks. My productivity tripled.</div><div class="t-author"><div class="t-avatar" style="background:linear-gradient(135deg,#fbbf24,#34d399)">A</div><div><div class="t-name">Ananya M.</div><div class="t-role">MBA Candidate</div></div></div></div>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="cta-section" aria-label="Call to action">
    <div class="cta-box">
      <div class="cta-title">Ready to study <em>smarter?</em></div>
      <div class="cta-sub">Join 50,000+ students who are already ahead of their deadlines.</div>
      <button class="btn-hero-primary" onclick="showAuth('register')" style="margin:0 auto;" aria-label="Start for free">üöÄ Start for Free ‚Äî No Credit Card</button>
    </div>
  </section>

  <!-- FOOTER -->
  <footer role="contentinfo">
    <div class="footer-inner">
      <div class="footer-brand">
        <div class="lp-logo"><div class="lp-logo-dot" aria-hidden="true"></div>Study<span style="color:var(--accent)">Bot</span></div>
        <p>Your AI-powered personal study assistant. Built for students who want to stay ahead without burning out.</p>
      </div>
      <div>
        <div class="footer-heading">Product</div>
        <div class="footer-links">
          <a href="#features">Features</a>
          <a href="#how-it-works">How It Works</a>
          <a onclick="showAuth('register')">Get Started</a>
          <a onclick="showAuth('login')">Login</a>
        </div>
      </div>
      <div>
        <div class="footer-heading">Support</div>
        <div class="footer-links">
          <a href="#">Help Center</a>
          <a href="#">Privacy Policy</a>
          <a href="#">Terms of Service</a>
          <a href="#">Contact Us</a>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <span>¬© 2026 StudyBot. All rights reserved.</span>
      <span>Made with ‚ù§Ô∏è for students everywhere</span>
    </div>
  </footer>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   AUTH SCREEN
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="authScreen" role="dialog" aria-modal="true" aria-label="Authentication">
  <div class="auth-wrap">
    <div class="auth-logo-big">Study<span>Bot</span> üìö</div>
    <div class="auth-tagline">Your AI-powered personal study assistant</div>
    <div class="auth-box">
      <div class="auth-tabs" role="tablist">
        <button class="auth-tab active" id="tabLogin" onclick="switchTab('login')" role="tab" aria-selected="true" aria-controls="loginForm">Login</button>
        <button class="auth-tab" id="tabReg" onclick="switchTab('register')" role="tab" aria-selected="false" aria-controls="regForm">Register</button>
      </div>
      <div id="loginForm" role="tabpanel">
        <div class="auth-field"><label for="l-email">Email</label><input type="email" id="l-email" placeholder="you@email.com" autocomplete="email" aria-required="true"></div>
        <div class="auth-field"><label for="l-pass">Password</label><input type="password" id="l-pass" placeholder="Your password" autocomplete="current-password" onkeydown="if(event.key==='Enter')doLogin()" aria-required="true"></div>
        <button class="auth-submit" onclick="doLogin()" aria-label="Login to your account">Login ‚Üí</button>
        <div class="auth-err" id="l-err" role="alert" aria-live="polite"></div>
        <div id="savedUsersWrap"></div>
      </div>
      <div id="regForm" style="display:none" role="tabpanel">
        <div class="auth-field"><label for="r-name">Name</label><input type="text" id="r-name" placeholder="Your full name" autocomplete="name" aria-required="true"></div>
        <div class="auth-field"><label for="r-email">Email</label><input type="email" id="r-email" placeholder="you@email.com" autocomplete="email" aria-required="true"></div>
        <div class="auth-field"><label for="r-pass">Password</label><input type="password" id="r-pass" placeholder="Min. 4 characters" autocomplete="new-password" aria-required="true"></div>
        <div class="auth-field"><label for="r-pass2">Confirm Password</label><input type="password" id="r-pass2" placeholder="Repeat password" autocomplete="new-password" onkeydown="if(event.key==='Enter')doRegister()" aria-required="true"></div>
        <button class="auth-submit" onclick="doRegister()" aria-label="Create your account">Create Account ‚Üí</button>
        <div class="auth-err" id="r-err" role="alert" aria-live="polite"></div>
      </div>
      <button class="auth-back" onclick="showLanding()" aria-label="Back to landing page">‚Üê Back to home</button>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   MAIN APP
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="mainApp">
  <header role="banner">
    <div style="display:flex;align-items:center;gap:10px;">
      <button class="hamburger" onclick="toggleSidebar()" aria-label="Toggle sidebar menu" aria-expanded="false" id="hamburgerBtn"><span></span><span></span><span></span></button>
      <div class="logo" aria-label="StudyBot"><div class="logo-dot" aria-hidden="true"></div>Study<em>Bot</em></div>
    </div>
    <div class="header-center" id="headerStats" aria-live="polite">Loading...</div>
    <div class="header-right">
      <button class="ai-toggle-btn" onclick="toggleAI()" aria-label="Open AI assistant" aria-expanded="false" id="aiToggleBtn">ü§ñ StudyBot AI</button>
      <button class="icon-pill-btn theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme" title="Toggle light/dark theme">üåô</button>
      <div class="notif-btn-wrap">
        <button class="icon-pill-btn" id="notifBtn" onclick="toggleNotifPanel()" aria-label="Notifications" aria-expanded="false" aria-controls="notifPanel">üîî</button>
        <div class="notif-badge hidden" id="notifBadge" aria-label="Unread notifications" role="status">0</div>
      </div>
      <div class="user-pill" onclick="doLogout()" title="Click to logout" role="button" tabindex="0" aria-label="User menu ‚Äî click to logout" onkeydown="if(event.key==='Enter')doLogout()">
        <div class="u-avatar" id="uAvatar" aria-hidden="true">?</div>
        <span id="uName">User</span>
        <span style="color:var(--text3);font-size:0.75rem;" aria-hidden="true">‚úï</span>
      </div>
    </div>
  </header>

  <aside class="sidebar" id="sidebar" role="navigation" aria-label="App navigation">
    <div class="sidebar-label">Main</div>
    <button class="nav-btn active" data-page="dashboard" onclick="showPage('dashboard',this)" aria-label="Dashboard"><span class="icon" aria-hidden="true">üìä</span>Dashboard</button>
    <button class="nav-btn" data-page="tasks" onclick="showPage('tasks',this)" aria-label="All tasks"><span class="icon" aria-hidden="true">üìã</span>All Tasks</button>
    <button class="nav-btn" data-page="upcoming" onclick="showPage('upcoming',this)" aria-label="Upcoming deadlines"><span class="icon" aria-hidden="true">üìÖ</span>Upcoming</button>
    <button class="nav-btn" data-page="performance" onclick="showPage('performance',this)" aria-label="Performance stats"><span class="icon" aria-hidden="true">üìà</span>Performance</button>
    <button class="nav-btn" data-page="add" onclick="showPage('add',this)" aria-label="Add new task"><span class="icon" aria-hidden="true">‚ûï</span>Add Task</button>
    <div class="sidebar-divider"></div>
    <div class="sidebar-label">Overview</div>
    <div class="stat-mini"><span>Pending</span><span class="stat-mini-val" id="sPending" aria-label="Pending tasks count">‚Äî</span></div>
    <div class="stat-mini"><span>In Progress</span><span class="stat-mini-val blue" id="sProgress" aria-label="In progress tasks count">‚Äî</span></div>
    <div class="stat-mini"><span>Done</span><span class="stat-mini-val green" id="sDone" aria-label="Completed tasks count">‚Äî</span></div>
    <div class="stat-mini"><span>High Priority</span><span class="stat-mini-val red" id="sHigh" aria-label="High priority tasks count">‚Äî</span></div>
    <div class="sidebar-divider"></div>
    <div class="sidebar-label">Quick Filter</div>
    <button class="nav-btn" onclick="quickFilter('pending')" aria-label="Filter pending tasks"><span class="icon" aria-hidden="true">üü°</span>Pending</button>
    <button class="nav-btn" onclick="quickFilter('in-progress')" aria-label="Filter in-progress tasks"><span class="icon" aria-hidden="true">üîµ</span>In Progress</button>
    <button class="nav-btn" onclick="quickFilter('completed')" aria-label="Filter completed tasks"><span class="icon" aria-hidden="true">‚úÖ</span>Completed</button>
    <button class="nav-btn" onclick="quickFilter(null)" aria-label="Clear all filters"><span class="icon" aria-hidden="true">üîÑ</span>Clear Filter</button>
  </aside>

  <main class="main" id="mainContent" role="main">

    <!-- DASHBOARD -->
    <div class="page active" id="page-dashboard" role="region" aria-label="Dashboard">
      <div>
        <div class="dash-greeting" id="dashGreeting">Loading...</div>
        <div class="dash-sub" id="dashSub" aria-live="polite">Your study overview for today</div>
      </div>
      <div class="kpi-grid" id="kpiGrid" role="list" aria-label="Key statistics"></div>
      <div class="dash-panels">
        <div class="panel"><div class="panel-title"><span aria-hidden="true">üìä</span>Task Breakdown</div><div class="chart-wrap"><canvas id="taskChart" aria-label="Task status breakdown chart" role="img"></canvas></div></div>
        <div class="panel">
          <div class="panel-title"><span aria-hidden="true">üî•</span>Study Streak</div>
          <div class="streak-days" id="streakDays" aria-label="Weekly study streak"></div>
          <div class="streak-score">
            <div class="streak-fire" aria-hidden="true">üî•</div>
            <div><div class="streak-num" id="streakCount">0</div><div class="streak-txt">day streak</div></div>
          </div>
        </div>
      </div>
      <div class="panel"><div class="panel-title"><span aria-hidden="true">üìã</span>Recent Activity</div><div class="recent-list" id="recentList"></div></div>
    </div>

    <!-- TASKS -->
    <div class="page" id="page-tasks" role="region" aria-label="All tasks">
      <div class="page-header">
        <div class="page-title">Your <em>Tasks</em></div>
        <div class="page-sub" id="taskCount" aria-live="polite">Loading...</div>
      </div>
      <div class="toolbar" role="toolbar" aria-label="Task filters">
        <input class="search-box" type="search" placeholder="üîç Search tasks..." id="searchBox" oninput="renderTasks()" aria-label="Search tasks">
        <button class="filter-chip active" onclick="setPriorityFilter('all',this)" aria-pressed="true">All</button>
        <button class="filter-chip" onclick="setPriorityFilter('high',this)" aria-pressed="false">üî¥ High</button>
        <button class="filter-chip" onclick="setPriorityFilter('medium',this)" aria-pressed="false">üü° Medium</button>
        <button class="filter-chip" onclick="setPriorityFilter('low',this)" aria-pressed="false">üü¢ Low</button>
      </div>
      <div class="task-grid" id="taskGrid" role="list" aria-label="Task list"></div>
    </div>

    <!-- UPCOMING -->
    <div class="page" id="page-upcoming" role="region" aria-label="Upcoming deadlines">
      <div class="page-header">
        <div class="page-title"><em>Upcoming</em> Deadlines</div>
        <div class="page-sub">Next 14 days</div>
      </div>
      <div class="timeline" id="upcomingList" role="list"></div>
    </div>

    <!-- PERFORMANCE -->
    <div class="page" id="page-performance" role="region" aria-label="Performance stats">
      <div class="page-header">
        <div class="page-title">Your <em>Performance</em></div>
        <div class="page-sub">Track your progress and study habits</div>
      </div>
      <div class="perf-grid" id="perfGrid" role="list"></div>
      <div class="dash-panels">
        <div class="panel"><div class="panel-title"><span aria-hidden="true">üìä</span>Subject Progress</div><div id="subjectProgress"></div></div>
        <div class="panel">
          <div class="panel-title"><span aria-hidden="true">üóì</span>28-Day Activity</div>
          <div class="heatmap" id="heatmap" aria-label="28 day activity heatmap"></div>
          <div style="margin-top:10px;font-size:0.75rem;color:var(--text3);">Each cell = 1 day. Darker = more tasks completed.</div>
        </div>
      </div>
      <div class="panel"><div class="panel-title"><span aria-hidden="true">üìà</span>Weekly Completion</div><div class="chart-wrap"><canvas id="perfChart" aria-label="Weekly completion chart" role="img"></canvas></div></div>
    </div>

    <!-- ADD TASK -->
    <div class="page" id="page-add" role="region" aria-label="Add new task">
      <div class="page-header">
        <div class="page-title">Add <em>New</em> Task</div>
        <div class="page-sub">Fill in the details below</div>
      </div>
      <form class="add-form" onsubmit="submitTask(event)" novalidate aria-label="New task form">
        <div class="form-group full"><label for="f-title">Task Title *</label><input type="text" id="f-title" placeholder="e.g. Write Chemistry Lab Report" required aria-required="true"></div>
        <div class="form-row">
          <div class="form-group"><label for="f-subject">Subject</label><input type="text" id="f-subject" placeholder="e.g. Chemistry"></div>
          <div class="form-group"><label for="f-due">Due Date</label><input type="date" id="f-due"></div>
        </div>
        <div class="form-row">
          <div class="form-group"><label for="f-priority">Priority</label><select id="f-priority"><option value="medium">üü° Medium</option><option value="high">üî¥ High</option><option value="low">üü¢ Low</option></select></div>
          <div class="form-group"><label for="f-status">Status</label><select id="f-status"><option value="pending">Pending</option><option value="in-progress">In Progress</option><option value="completed">Completed</option></select></div>
        </div>
        <div class="form-group full"><label for="f-desc">Notes</label><textarea id="f-desc" placeholder="Any extra details..."></textarea></div>
        <div class="form-actions">
          <button type="button" class="btn btn-ai" onclick="aiSuggestPriority()" aria-label="Get AI priority suggestion">‚ú® AI Priority</button>
          <button type="button" class="btn btn-secondary" onclick="resetForm()" aria-label="Clear form">Clear</button>
          <button type="submit" class="btn btn-primary" aria-label="Add task">‚ûï Add Task</button>
        </div>
      </form>
    </div>

  </main>

  <!-- AI PANEL -->
  <aside class="ai-panel" id="aiPanel" role="complementary" aria-label="AI Study Assistant">
    <div class="ai-head">
      <div class="ai-avatar-wrap" aria-hidden="true">ü§ñ</div>
      <div class="ai-info">
        <div class="ai-name">StudyBot AI</div>
        <div class="ai-status">Online ¬∑ Powered by AI</div>
      </div>
      <button class="ai-close-btn" onclick="toggleAI()" aria-label="Close AI assistant">‚úï</button>
    </div>
    <div class="ai-messages" id="aiMessages" role="log" aria-live="polite" aria-label="AI chat messages"></div>
    <div class="quick-chips" role="group" aria-label="Quick questions">
      <button class="q-chip" onclick="qp('What should I focus on today?')">Focus today</button>
      <button class="q-chip" onclick="qp('Am I overloaded this week?')">Overloaded?</button>
      <button class="q-chip" onclick="qp('What are my high priority tasks?')">High priority</button>
      <button class="q-chip" onclick="qp('Give me a study schedule')">Study plan</button>
    </div>
    <div class="ai-input-row">
      <label for="aiInput" class="sr-only" style="position:absolute;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)">Message AI assistant</label>
      <input class="ai-input" id="aiInput" type="text" placeholder="Ask StudyBot..." onkeydown="if(event.key==='Enter')sendMsg()" aria-label="Message AI assistant">
      <button class="send-btn" id="sendBtn" onclick="sendMsg()" aria-label="Send message">‚û§</button>
    </div>
  </aside>
</div>

<!-- Bottom Nav (Mobile) -->
<nav class="bottom-nav" role="navigation" aria-label="Mobile navigation">
  <button class="bn-btn active" id="bn-dashboard" onclick="showPage('dashboard',null);setBN('bn-dashboard')" aria-label="Dashboard"><span class="bni" aria-hidden="true">üìä</span>Dash</button>
  <button class="bn-btn" id="bn-tasks" onclick="showPage('tasks',null);setBN('bn-tasks')" aria-label="Tasks"><span class="bni" aria-hidden="true">üìã</span>Tasks</button>
  <button class="bn-btn" id="bn-upcoming" onclick="showPage('upcoming',null);setBN('bn-upcoming')" aria-label="Upcoming"><span class="bni" aria-hidden="true">üìÖ</span>Soon</button>
  <button class="bn-btn" id="bn-performance" onclick="showPage('performance',null);setBN('bn-performance')" aria-label="Performance"><span class="bni" aria-hidden="true">üìà</span>Stats</button>
  <button class="bn-btn" id="bn-add" onclick="showPage('add',null);setBN('bn-add')" aria-label="Add task"><span class="bni" aria-hidden="true">‚ûï</span>Add</button>
  <button class="bn-btn" id="bn-ai" onclick="toggleAI()" aria-label="AI assistant"><span class="bni" aria-hidden="true">ü§ñ</span>AI</button>
</nav>

<div class="drawer-overlay" id="drawerOverlay" onclick="closeAll()" aria-hidden="true"></div>

<!-- Notifications Panel -->
<div class="notif-panel" id="notifPanel" role="dialog" aria-modal="false" aria-label="Notifications">
  <div class="notif-header">
    <div class="notif-header-title">üîî Notifications</div>
    <button class="notif-clear" onclick="clearNotifs()" aria-label="Clear all notifications">Clear all</button>
  </div>
  <div class="notif-list" id="notifList" role="list"></div>
</div>

<!-- Edit Modal -->
<div class="modal-overlay" id="editModal" role="dialog" aria-modal="true" aria-label="Edit task">
  <div class="modal">
    <div class="modal-title">‚úèÔ∏è Edit Task</div>
    <form onsubmit="submitEdit(event)" style="display:flex;flex-direction:column;gap:13px;" aria-label="Edit task form">
      <input type="hidden" id="e-id">
      <div class="form-group"><label for="e-title">Title</label><input type="text" id="e-title" required aria-required="true"></div>
      <div class="form-row">
        <div class="form-group"><label for="e-subject">Subject</label><input type="text" id="e-subject"></div>
        <div class="form-group"><label for="e-due">Due Date</label><input type="date" id="e-due"></div>
      </div>
      <div class="form-row">
        <div class="form-group"><label for="e-priority">Priority</label><select id="e-priority"><option value="medium">üü° Medium</option><option value="high">üî¥ High</option><option value="low">üü¢ Low</option></select></div>
        <div class="form-group"><label for="e-status">Status</label><select id="e-status"><option value="pending">Pending</option><option value="in-progress">In Progress</option><option value="completed">Completed</option></select></div>
      </div>
      <div class="form-group"><label for="e-desc">Notes</label><textarea id="e-desc"></textarea></div>
      <div class="form-actions">
        <button type="button" class="btn btn-ai" onclick="genSubtasks()" aria-label="Generate AI subtasks">‚ú® AI Subtasks</button>
        <button type="button" class="btn btn-secondary" onclick="closeModal()" aria-label="Cancel edit">Cancel</button>
        <button type="submit" class="btn btn-primary" aria-label="Save task changes">Save Changes</button>
      </div>
    </form>
  </div>
</div>

<div class="toast-container" id="toastContainer" role="status" aria-live="polite"></div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// THEME
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function toggleTheme(){
  const cur = document.documentElement.getAttribute('data-theme');
  const next = cur === 'light' ? 'dark' : 'light';
  document.documentElement.setAttribute('data-theme', next === 'dark' ? '' : 'light');
  document.querySelectorAll('.theme-toggle').forEach(b => b.textContent = next === 'light' ? '‚òÄÔ∏è' : 'üåô');
  localStorage.setItem('sb_theme', next);
}
(function applyTheme(){
  const saved = localStorage.getItem('sb_theme');
  if(saved === 'light'){
    document.documentElement.setAttribute('data-theme','light');
    document.querySelectorAll('.theme-toggle').forEach(b => b.textContent = '‚òÄÔ∏è');
  }
})();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// LANDING / AUTH ROUTING
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function showLanding(){
  document.getElementById('landingPage').style.display='';
  document.getElementById('authScreen').style.display='none';
  document.getElementById('mainApp').style.display='none';
}
function showAuth(tab){
  document.getElementById('landingPage').style.display='none';
  document.getElementById('authScreen').style.display='flex';
  document.getElementById('mainApp').style.display='none';
  switchTab(tab||'login');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// STORAGE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const SK={users:'sb_users',session:'sb_session',chat:u=>`sb_chat_${u}`,notifs:u=>`sb_notifs_${u}`};
const ls={get:k=>{try{return JSON.parse(localStorage.getItem(k));}catch{return null;}},set:(k,v)=>localStorage.setItem(k,JSON.stringify(v)),del:k=>localStorage.removeItem(k)};
function getUsers(){return ls.get(SK.users)||{};}
function saveUsers(u){ls.set(SK.users,u);}
function getSession(){return ls.get(SK.session);}
function saveSession(s){ls.set(SK.session,s);}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// AUTH
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let currentUser=null;

function switchTab(tab){
  document.getElementById('tabLogin').classList.toggle('active',tab==='login');
  document.getElementById('tabReg').classList.toggle('active',tab==='register');
  document.getElementById('tabLogin').setAttribute('aria-selected',tab==='login');
  document.getElementById('tabReg').setAttribute('aria-selected',tab==='register');
  document.getElementById('loginForm').style.display=tab==='login'?'':'none';
  document.getElementById('regForm').style.display=tab==='register'?'':'none';
}

function renderSavedUsers(){
  const users=getUsers(),keys=Object.keys(users);
  const wrap=document.getElementById('savedUsersWrap');
  if(!keys.length){wrap.innerHTML='';return;}
  wrap.innerHTML=`<div class="auth-divider"><span>Quick login</span></div><div class="quick-users">${keys.map(email=>`
    <button class="quick-chip" onclick="quickFill('${email}')" aria-label="Quick login as ${users[email].name}">
      <div class="quick-chip-avatar" aria-hidden="true">${users[email].name[0].toUpperCase()}</div>
      <span>${users[email].name}</span>
    </button>`).join('')}</div>`;
}

function quickFill(email){document.getElementById('l-email').value=email;document.getElementById('l-pass').focus();}

function doLogin(){
  const email=document.getElementById('l-email').value.trim().toLowerCase();
  const pass=document.getElementById('l-pass').value;
  const err=document.getElementById('l-err');
  if(!email||!pass){err.textContent='Please fill in all fields.';return;}
  const users=getUsers();
  if(!users[email]){err.textContent='No account found. Please register.';return;}
  if(users[email].password!==btoa(pass)){err.textContent='Incorrect password.';return;}
  err.textContent='';
  saveSession({email,name:users[email].name,loginTime:Date.now()});
  startApp(email,users[email].name);
}

function doRegister(){
  const name=document.getElementById('r-name').value.trim();
  const email=document.getElementById('r-email').value.trim().toLowerCase();
  const pass=document.getElementById('r-pass').value;
  const pass2=document.getElementById('r-pass2').value;
  const err=document.getElementById('r-err');
  if(!name||!email||!pass){err.textContent='Please fill in all fields.';return;}
  if(!email.includes('@')){err.textContent='Please enter a valid email address.';return;}
  if(pass.length<4){err.textContent='Password must be at least 4 characters.';return;}
  if(pass!==pass2){err.textContent='Passwords do not match.';return;}
  const users=getUsers();
  if(users[email]){err.textContent='An account with this email already exists.';return;}
  users[email]={name,password:btoa(pass),createdAt:Date.now()};
  saveUsers(users);
  err.textContent='';
  saveSession({email,name,loginTime:Date.now()});
  startApp(email,name);
}

function doLogout(){
  if(!confirm('Log out?'))return;
  saveChatHistory();
  ls.del(SK.session);
  currentUser=null;chatHistory=[];notifications=[];
  document.getElementById('mainApp').style.display='none';
  showLanding();
  document.getElementById('l-email').value='';
  document.getElementById('l-pass').value='';
  document.getElementById('l-err').textContent='';
  renderSavedUsers();
}

function startApp(email,name){
  currentUser={email,name};
  document.getElementById('landingPage').style.display='none';
  document.getElementById('authScreen').style.display='none';
  document.getElementById('mainApp').style.display='grid';
  document.getElementById('uName').textContent=name.split(' ')[0];
  document.getElementById('uAvatar').textContent=name[0].toUpperCase();
  const h=new Date().getHours();
  const greet=h<12?'Good morning':h<17?'Good afternoon':'Good evening';
  document.getElementById('dashGreeting').innerHTML=`${greet}, <span>${name.split(' ')[0]}!</span> üëã`;
  chatHistory=ls.get(SK.chat(email))||[];
  notifications=ls.get(SK.notifs(email))||[];
  restoreChatUI();
  renderNotifBadge();
  loadTasks();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// STATE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let tasks=[],filterPriority='all',filterStatus=null;
let chatHistory=[],notifications=[];
let taskChartInst=null,perfChartInst=null;

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// UTILS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function toast(msg,type='info'){
  const el=document.createElement('div');
  el.className=`toast ${type}`;el.textContent=msg;el.setAttribute('role','status');
  document.getElementById('toastContainer').appendChild(el);
  setTimeout(()=>el.remove(),3200);
}
function escHtml(s){return(s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');}
function fmtDate(s){if(!s)return null;return new Date(s+'T00:00:00').toLocaleDateString('en-GB',{day:'numeric',month:'short',year:'numeric'});}
function isOverdue(s){return s&&new Date(s+'T23:59:59')<new Date();}
async function api(method,path,body){
  const res=await fetch(path,{method,headers:body?{'Content-Type':'application/json'}:{},body:body?JSON.stringify(body):undefined});
  return res.json();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// NOTIFICATIONS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function addNotif(text,icon='üìå'){
  if(!currentUser)return;
  const n={id:Date.now(),text,icon,time:new Date().toLocaleTimeString(),read:false};
  notifications.unshift(n);notifications=notifications.slice(0,30);
  ls.set(SK.notifs(currentUser.email),notifications);
  renderNotifBadge();renderNotifList();
}
function renderNotifBadge(){
  const unread=notifications.filter(n=>!n.read).length;
  const badge=document.getElementById('notifBadge');
  badge.textContent=unread;badge.classList.toggle('hidden',unread===0);
}
function renderNotifList(){
  const list=document.getElementById('notifList');
  if(!notifications.length){list.innerHTML=`<div class="notif-empty">üéâ You're all caught up!</div>`;return;}
  list.innerHTML=notifications.map(n=>`
    <div class="notif-item ${n.read?'':'unread'}" onclick="markRead(${n.id})" role="listitem" tabindex="0">
      <div class="notif-icon" aria-hidden="true">${n.icon}</div>
      <div class="notif-body"><div class="notif-text">${escHtml(n.text)}</div><div class="notif-time">${n.time}</div></div>
    </div>`).join('');
}
function markRead(id){const n=notifications.find(n=>n.id===id);if(n)n.read=true;ls.set(SK.notifs(currentUser.email),notifications);renderNotifBadge();renderNotifList();}
function clearNotifs(){notifications=[];ls.set(SK.notifs(currentUser.email),notifications);renderNotifBadge();renderNotifList();}
function toggleNotifPanel(){
  const p=document.getElementById('notifPanel');
  const btn=document.getElementById('notifBtn');
  p.classList.toggle('open');
  btn.setAttribute('aria-expanded',p.classList.contains('open'));
  if(p.classList.contains('open')){notifications.forEach(n=>n.read=true);ls.set(SK.notifs(currentUser.email),notifications);renderNotifBadge();renderNotifList();}
}
function checkDeadlineNotifs(){
  const today=new Date();
  tasks.forEach(t=>{
    if(t.status==='completed'||!t.due_date)return;
    const due=new Date(t.due_date+'T23:59:59');
    const diffDays=Math.ceil((due-today)/(1000*60*60*24));
    if(diffDays<0)addNotif(`"${t.title}" is overdue!`,'‚ö†Ô∏è');
    else if(diffDays===0)addNotif(`"${t.title}" is due today!`,'üî•');
    else if(diffDays===1)addNotif(`"${t.title}" is due tomorrow`,'üìÖ');
  });
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// TASKS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
async function loadTasks(){
  try{tasks=await api('GET','/api/tasks');renderTasks();updateSidebarStats();renderDashboard();checkDeadlineNotifs();}
  catch(e){toast('Cannot connect to server','error');}
}
function updateSidebarStats(){
  document.getElementById('sPending').textContent=tasks.filter(t=>t.status==='pending').length;
  document.getElementById('sProgress').textContent=tasks.filter(t=>t.status==='in-progress').length;
  document.getElementById('sDone').textContent=tasks.filter(t=>t.status==='completed').length;
  document.getElementById('sHigh').textContent=tasks.filter(t=>t.priority==='high'&&t.status!=='completed').length;
  const total=tasks.length,done=tasks.filter(t=>t.status==='completed').length;
  document.getElementById('headerStats').innerHTML=`<strong>${total}</strong> tasks ¬∑ <strong>${done}</strong> completed`;
  document.getElementById('taskCount').textContent=`${tasks.length} tasks total`;
}
function renderTasks(){
  const q=document.getElementById('searchBox')?.value.toLowerCase()||'';
  const filtered=tasks.filter(t=>
    (filterPriority==='all'||t.priority===filterPriority)&&
    (!filterStatus||t.status===filterStatus)&&
    (!q||t.title.toLowerCase().includes(q)||(t.subject||'').toLowerCase().includes(q)||(t.description||'').toLowerCase().includes(q))
  );
  const grid=document.getElementById('taskGrid');
  if(!filtered.length){grid.innerHTML=`<div class="empty-state"><div class="big">üì≠</div><p>No tasks found. Add one!</p></div>`;return;}
  grid.innerHTML=filtered.map(taskCardHtml).join('');
}
function taskCardHtml(t){
  const ov=isOverdue(t.due_date)&&t.status!=='completed';
  const subs=(t.subtasks||[]).map((s,i)=>`
    <div class="subtask-item ${s.done?'done':''}" onclick="toggleSubtask('${t.id}',${i})" role="checkbox" aria-checked="${s.done}" tabindex="0" onkeydown="if(event.key===' '||event.key==='Enter'){event.preventDefault();toggleSubtask('${t.id}',${i});}">
      <div class="subtask-check" aria-hidden="true">${s.done?'‚úì':''}</div>
      <span>${escHtml(s.text)}</span>
    </div>`).join('');
  return `<div class="task-card priority-${t.priority} ${t.status==='completed'?'completed':''}" role="listitem">
    <div class="task-card-top">
      <div class="task-title">${escHtml(t.title)}</div>
      <div class="task-card-actions" role="group" aria-label="Task actions">
        <button class="icon-btn ai-btn" onclick="genSubtasksForTask('${t.id}')" aria-label="Generate AI subtasks for ${escHtml(t.title)}" title="AI subtasks">‚ú®</button>
        <button class="icon-btn" onclick="openEdit('${t.id}')" aria-label="Edit ${escHtml(t.title)}" title="Edit">‚úèÔ∏è</button>
        <button class="icon-btn" onclick="toggleComplete('${t.id}')" aria-label="${t.status==='completed'?'Reopen':'Complete'} ${escHtml(t.title)}" title="Toggle done">‚úÖ</button>
        <button class="icon-btn danger" onclick="deleteTask('${t.id}')" aria-label="Delete ${escHtml(t.title)}" title="Delete">üóë</button>
      </div>
    </div>
    ${t.description?`<div class="task-desc">${escHtml(t.description)}</div>`:''}
    <div class="task-meta">
      ${t.subject?`<span class="badge badge-subject">${escHtml(t.subject)}</span>`:''}
      <span class="badge badge-${t.priority}">${t.priority}</span>
      <span class="badge badge-${t.status}">${t.status}</span>
    </div>
    ${t.due_date?`<div class="task-due ${ov?'overdue':''}" aria-label="Due ${fmtDate(t.due_date)}${ov?' ‚Äî overdue':''}">${ov?'‚ö†Ô∏è':'üìÖ'} ${fmtDate(t.due_date)}${ov?' ¬∑ Overdue!':''}</div>`:''}
    ${subs?`<div class="subtasks-list">${subs}</div>`:''}
  </div>`;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// DASHBOARD
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderDashboard(){
  const total=tasks.length,done=tasks.filter(t=>t.status==='completed').length;
  const pending=tasks.filter(t=>t.status==='pending').length;
  const inprog=tasks.filter(t=>t.status==='in-progress').length;
  const high=tasks.filter(t=>t.priority==='high'&&t.status!=='completed').length;
  const overdue=tasks.filter(t=>isOverdue(t.due_date)&&t.status!=='completed').length;
  const pct=total?Math.round(done/total*100):0;
  const msgs=[`You've completed ${pct}% of your tasks ‚Äî keep it up! üöÄ`,`${pending} tasks waiting ‚Äî tackle them one by one üí™`,high?`${high} high-priority task${high>1?'s':''} need attention üî•`:`No urgent tasks right now ‚Äî great job! ‚úÖ`,overdue?`‚ö†Ô∏è ${overdue} overdue task${overdue>1?'s':''} need immediate attention!`:`All tasks on schedule! üéâ`];
  document.getElementById('dashSub').textContent=msgs[Math.floor(Date.now()/10000)%msgs.length];
  document.getElementById('kpiGrid').innerHTML=`
    <div class="kpi-card" role="listitem"><div class="kpi-icon" aria-hidden="true">üìã</div><div class="kpi-val blue" aria-label="${total} total tasks">${total}</div><div class="kpi-label">Total Tasks</div></div>
    <div class="kpi-card" role="listitem"><div class="kpi-icon" aria-hidden="true">‚úÖ</div><div class="kpi-val green" aria-label="${done} completed tasks">${done}</div><div class="kpi-label">Completed</div></div>
    <div class="kpi-card" role="listitem"><div class="kpi-icon" aria-hidden="true">‚è≥</div><div class="kpi-val" aria-label="${pending} pending tasks">${pending}</div><div class="kpi-label">Pending</div></div>
    <div class="kpi-card" role="listitem"><div class="kpi-icon" aria-hidden="true">‚ö°</div><div class="kpi-val blue" aria-label="${inprog} in progress tasks">${inprog}</div><div class="kpi-label">In Progress</div></div>
    <div class="kpi-card" role="listitem"><div class="kpi-icon" aria-hidden="true">üî¥</div><div class="kpi-val pink" aria-label="${high} high priority tasks">${high}</div><div class="kpi-label">High Priority</div></div>
    <div class="kpi-card" role="listitem"><div class="kpi-icon" aria-hidden="true">üìä</div><div class="kpi-val green" aria-label="${pct}% completion rate">${pct}%</div><div class="kpi-label">Completion</div></div>
  `;
  const ctx=document.getElementById('taskChart').getContext('2d');
  if(taskChartInst)taskChartInst.destroy();
  taskChartInst=new Chart(ctx,{
    type:'doughnut',
    data:{labels:['Completed','In Progress','Pending'],datasets:[{data:[done,inprog,pending],backgroundColor:['#5eead4','#818cf8','#1a2d44'],borderColor:getComputedStyle(document.documentElement).getPropertyValue('--surface').trim()||'#0c1420',borderWidth:3,hoverOffset:6}]},
    options:{responsive:true,maintainAspectRatio:false,cutout:'65%',plugins:{legend:{position:'bottom',labels:{color:'#94a3b8',font:{size:11,family:'Syne'},padding:14}}}}
  });
  const days=['Su','Mo','Tu','We','Th','Fr','Sa'];
  const today=new Date();
  let streakCount=0,checkStreak=true,streakHtml='';
  for(let i=6;i>=0;i--){
    const d=new Date(today);d.setDate(d.getDate()-i);
    const ds=d.toISOString().split('T')[0];
    const active=tasks.some(t=>t.status==='completed'&&t.updated_at&&t.updated_at.startsWith(ds));
    const isToday=i===0;
    if(checkStreak){if(active||(isToday)){if(active)streakCount++;}else if(!isToday){checkStreak=false;}}
    streakHtml+=`<div class="s-day ${active?'active':''} ${isToday?'today':''}" aria-label="${days[d.getDay()]}${active?' ‚Äî studied':''}"><div class="s-label">${days[d.getDay()]}</div><div class="s-dot"></div></div>`;
  }
  document.getElementById('streakDays').innerHTML=streakHtml;
  document.getElementById('streakCount').textContent=streakCount;
  const recent=[...tasks].sort((a,b)=>new Date(b.updated_at)-new Date(a.updated_at)).slice(0,6);
  const dotColor={pending:'#fbbf24','in-progress':'#818cf8',completed:'#5eead4'};
  document.getElementById('recentList').innerHTML=recent.length?recent.map(t=>`
    <div class="recent-item" role="listitem">
      <div class="recent-dot" style="background:${dotColor[t.status]||'#475569'}" aria-hidden="true"></div>
      <div class="recent-title">${escHtml(t.title)}</div>
      ${t.subject?`<span class="badge badge-subject" style="font-size:0.65rem;">${escHtml(t.subject)}</span>`:''}
      <span class="recent-status badge badge-${t.status}">${t.status}</span>
    </div>`).join(''):'<div style="color:var(--text3);padding:12px;font-size:0.875rem;">No tasks yet ‚Äî add one to get started!</div>';
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// PERFORMANCE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderPerformance(){
  const total=tasks.length,done=tasks.filter(t=>t.status==='completed').length;
  const high=tasks.filter(t=>t.priority==='high').length,highDone=tasks.filter(t=>t.priority==='high'&&t.status==='completed').length;
  const overdue=tasks.filter(t=>isOverdue(t.due_date)&&t.status!=='completed').length;
  const pct=total?Math.round(done/total*100):0;
  const onTime=done-overdue>0?done-overdue:done;
  const onTimePct=done?Math.round(onTime/done*100):0;
  document.getElementById('perfGrid').innerHTML=`
    <div class="perf-card" role="listitem"><div class="perf-card-title">Completion Rate</div><div class="perf-card-val" style="color:var(--accent)">${pct}%</div><div class="perf-card-desc">${done} of ${total} tasks done</div></div>
    <div class="perf-card" role="listitem"><div class="perf-card-title">High Priority Done</div><div class="perf-card-val" style="color:var(--accent3)">${highDone}/${high}</div><div class="perf-card-desc">Urgent tasks tackled</div></div>
    <div class="perf-card" role="listitem"><div class="perf-card-title">On-Time Rate</div><div class="perf-card-val" style="color:var(--accent2)">${onTimePct}%</div><div class="perf-card-desc">Tasks completed on schedule</div></div>
    <div class="perf-card" role="listitem"><div class="perf-card-title">Overdue</div><div class="perf-card-val" style="color:${overdue>0?'var(--accent3)':'var(--accent)'}">${overdue}</div><div class="perf-card-desc">${overdue?'Need attention!':'Looking great! ‚úÖ'}</div></div>
  `;
  const subjects={};
  tasks.forEach(t=>{const s=t.subject||'General';if(!subjects[s])subjects[s]={total:0,done:0};subjects[s].total++;if(t.status==='completed')subjects[s].done++;});
  const colors=['#5eead4','#818cf8','#fb7185','#fbbf24','#a78bfa','#34d399'];
  document.getElementById('subjectProgress').innerHTML=Object.entries(subjects).map(([subj,data],i)=>{
    const p=data.total?Math.round(data.done/data.total*100):0;
    return`<div class="perf-item"><div class="perf-label">${subj}</div><div class="perf-bar-wrap"><div class="perf-bar" style="width:${p}%;background:${colors[i%colors.length]}" role="progressbar" aria-valuenow="${p}" aria-valuemin="0" aria-valuemax="100"></div></div><div class="perf-pct">${p}%</div></div>`;
  }).join('')||'<div style="color:var(--text3);font-size:0.875rem;padding:12px 0;">Add tasks with subjects to see progress.</div>';
  const today=new Date();
  let heatHtml='';
  for(let i=27;i>=0;i--){const d=new Date(today);d.setDate(d.getDate()-i);const ds=d.toISOString().split('T')[0];const count=tasks.filter(t=>t.status==='completed'&&t.updated_at&&t.updated_at.startsWith(ds)).length;const lvl=count===0?'':count===1?'l1':count===2?'l2':count<=4?'l3':'l4';heatHtml+=`<div class="heat-cell ${lvl}" title="${ds}: ${count} completed" role="img" aria-label="${ds}: ${count} tasks completed"></div>`;}
  document.getElementById('heatmap').innerHTML=heatHtml;
  const ctx2=document.getElementById('perfChart').getContext('2d');
  if(perfChartInst)perfChartInst.destroy();
  const weeks=['5w ago','4w ago','3w ago','2w ago','Last week','This week'];
  const weekData=weeks.map((_,wi)=>{
    const start=new Date(today);start.setDate(start.getDate()-(5-wi)*7-6);
    const end=new Date(today);end.setDate(end.getDate()-(5-wi)*7);
    return tasks.filter(t=>{if(t.status!=='completed'||!t.updated_at)return false;const d=new Date(t.updated_at);return d>=start&&d<=end;}).length;
  });
  perfChartInst=new Chart(ctx2,{
    type:'bar',
    data:{labels:weeks,datasets:[{label:'Tasks Completed',data:weekData,backgroundColor:'rgba(94,234,212,0.2)',borderColor:'#5eead4',borderWidth:2,borderRadius:6}]},
    options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}},scales:{x:{ticks:{color:'#475569',font:{family:'Syne'}},grid:{color:'rgba(26,45,68,0.5)'}},y:{ticks:{color:'#475569',stepSize:1,font:{family:'Syne'}},grid:{color:'rgba(26,45,68,0.5)'}}}}
  });
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// NAVIGATION
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function showPage(name,btn){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
  document.getElementById('page-'+name).classList.add('active');
  if(btn)btn.classList.add('active');
  else{const b=document.querySelector(`[data-page="${name}"]`);if(b)b.classList.add('active');}
  if(name==='upcoming')loadUpcoming();
  if(name==='performance')renderPerformance();
  if(name==='dashboard')renderDashboard();
  closeSidebar();
}
function setBN(id){document.querySelectorAll('.bn-btn').forEach(b=>b.classList.remove('active'));document.getElementById(id)?.classList.add('active');}
function toggleSidebar(){
  const s=document.getElementById('sidebar');const o=document.getElementById('drawerOverlay');const btn=document.getElementById('hamburgerBtn');
  s.classList.toggle('open');o.classList.toggle('open');
  btn.setAttribute('aria-expanded',s.classList.contains('open'));
}
function closeSidebar(){document.getElementById('sidebar').classList.remove('open');document.getElementById('drawerOverlay').classList.remove('open');document.getElementById('hamburgerBtn')?.setAttribute('aria-expanded','false');}
function toggleAI(){
  const p=document.getElementById('aiPanel');const o=document.getElementById('drawerOverlay');const btn=document.getElementById('aiToggleBtn');
  const open=p.classList.toggle('open');o.classList.toggle('open',open);
  btn?.setAttribute('aria-expanded',open);
  document.getElementById('notifPanel').classList.remove('open');
}
function closeAll(){document.getElementById('sidebar').classList.remove('open');document.getElementById('aiPanel').classList.remove('open');document.getElementById('notifPanel').classList.remove('open');document.getElementById('drawerOverlay').classList.remove('open');}
function setPriorityFilter(val,btn){
  filterPriority=val;
  document.querySelectorAll('.filter-chip').forEach(c=>{c.classList.remove('active');c.setAttribute('aria-pressed','false');});
  btn.classList.add('active');btn.setAttribute('aria-pressed','true');
  renderTasks();
}
function quickFilter(val){filterStatus=val;showPage('tasks',null);renderTasks();}

async function loadUpcoming(){
  const items=await api('GET','/api/upcoming?days=14');
  const list=document.getElementById('upcomingList');
  if(!items.length){list.innerHTML=`<div class="empty-state"><div class="big">üéâ</div><p>Nothing due in the next 2 weeks!</p></div>`;return;}
  list.innerHTML=items.map(t=>{
    const d=new Date(t.due_date+'T00:00:00');
    return`<div class="tl-item" role="listitem">
      <div class="tl-date"><div class="tl-day">${d.getDate()}</div><div class="tl-month">${d.toLocaleString('en',{month:'short'})}</div></div>
      <div class="tl-content"><div class="tl-title">${escHtml(t.title)}</div>
      <div class="task-meta">${t.subject?`<span class="badge badge-subject">${escHtml(t.subject)}</span>`:''}<span class="badge badge-${t.priority}">${t.priority}</span></div></div>
      <div class="tl-actions"><button class="icon-btn" onclick="openEdit('${t.id}')" aria-label="Edit ${escHtml(t.title)}">‚úèÔ∏è</button><button class="icon-btn" onclick="toggleComplete('${t.id}')" aria-label="Toggle complete ${escHtml(t.title)}">‚úÖ</button></div>
    </div>`;}).join('');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// CRUD
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
async function submitTask(e){
  e.preventDefault();
  const data={title:document.getElementById('f-title').value,subject:document.getElementById('f-subject').value,due_date:document.getElementById('f-due').value||null,priority:document.getElementById('f-priority').value,status:document.getElementById('f-status').value,description:document.getElementById('f-desc').value};
  const res=await api('POST','/api/tasks',data);
  if(res.error){toast(res.error,'error');return;}
  toast('Task added! ‚úÖ','success');addNotif(`New task: "${data.title}"`, '‚ûï');
  resetForm();await loadTasks();showPage('tasks',null);setBN('bn-tasks');
}
function resetForm(){['f-title','f-subject','f-due','f-desc'].forEach(id=>document.getElementById(id).value='');document.getElementById('f-priority').value='medium';document.getElementById('f-status').value='pending';}
async function deleteTask(id){
  if(!confirm('Delete this task?'))return;
  const t=tasks.find(t=>t.id===id);
  await api('DELETE',`/api/tasks/${id}`);
  toast('Task deleted','info');addNotif(`Task deleted: "${t?.title}"`, 'üóë');
  await loadTasks();
}
async function toggleComplete(id){
  const task=tasks.find(t=>t.id===id);if(!task)return;
  const ns=task.status==='completed'?'pending':'completed';
  await api('PUT',`/api/tasks/${id}`,{status:ns});
  toast(ns==='completed'?'‚úÖ Task completed!':'üîÑ Task reopened','success');
  if(ns==='completed')addNotif(`Completed: "${task.title}"`, '‚úÖ');
  await loadTasks();
}
function toggleSubtask(taskId,idx){const task=tasks.find(t=>t.id===taskId);if(!task||!task.subtasks)return;task.subtasks[idx].done=!task.subtasks[idx].done;renderTasks();}
function openEdit(id){
  const t=tasks.find(t=>t.id===id);if(!t)return;
  document.getElementById('e-id').value=t.id;document.getElementById('e-title').value=t.title;
  document.getElementById('e-subject').value=t.subject||'';document.getElementById('e-due').value=t.due_date||'';
  document.getElementById('e-priority').value=t.priority;document.getElementById('e-status').value=t.status;
  document.getElementById('e-desc').value=t.description||'';
  document.getElementById('editModal').classList.add('open');
  document.getElementById('e-title').focus();
}
function closeModal(){document.getElementById('editModal').classList.remove('open');}
async function submitEdit(e){
  e.preventDefault();
  const id=document.getElementById('e-id').value;
  const data={title:document.getElementById('e-title').value,subject:document.getElementById('e-subject').value,due_date:document.getElementById('e-due').value||null,priority:document.getElementById('e-priority').value,status:document.getElementById('e-status').value,description:document.getElementById('e-desc').value};
  const res=await api('PUT',`/api/tasks/${id}`,data);
  if(res.error){toast(res.error,'error');return;}
  toast('Updated! ‚úÖ','success');closeModal();await loadTasks();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// AI
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
async function aiSuggestPriority(){
  const title=document.getElementById('f-title').value;if(!title){toast('Enter a title first','info');return;}
  toast('‚ú® Asking AI...','info');
  try{
    const res=await api('POST','/api/ai/chat',{message:`Suggest priority (ONLY one word: low, medium, or high) for: "${title}"`,history:[]});
    const word=res.reply?.toLowerCase().match(/\b(low|medium|high)\b/);
    if(word){document.getElementById('f-priority').value=word[0];toast(`AI suggests: ${word[0]} priority ‚ú®`,'success');}
  }catch(e){toast('AI unavailable','error');}
}
async function genSubtasks(){await genSubtasksForTask(document.getElementById('e-id').value);}
async function genSubtasksForTask(id){
  toast('‚ú® Generating subtasks...','info');
  const res=await api('POST',`/api/ai/subtasks/${id}`);
  if(res.error){toast(res.error,'error');return;}
  const task=tasks.find(t=>t.id===id);
  if(task){task.subtasks=res.subtasks.map(s=>({text:s,done:false}));renderTasks();toast(`Generated ${res.subtasks.length} subtasks! ‚ú®`,'success');}
}
function saveChatHistory(){if(currentUser)ls.set(SK.chat(currentUser.email),chatHistory.slice(-40));}
async function sendMsg(){
  const input=document.getElementById('aiInput');const msg=input.value.trim();if(!msg)return;
  input.value='';appendBubble('user',msg);chatHistory.push({role:'user',content:msg});saveChatHistory();
  document.getElementById('sendBtn').disabled=true;
  const tid='t-'+Date.now();
  document.getElementById('aiMessages').insertAdjacentHTML('beforeend',`<div class="msg ai" id="${tid}" role="status"><div class="msg-av" aria-hidden="true">ü§ñ</div><div class="msg-bubble"><div class="typing-row"><div class="t-dot"></div><div class="t-dot"></div><div class="t-dot"></div></div></div></div>`);
  scrollChat();
  try{
    const res=await api('POST','/api/ai/chat',{message:msg,history:chatHistory.slice(-10)});
    document.getElementById(tid)?.remove();
    const reply=res.reply||res.error||'Something went wrong.';
    appendBubble('ai',reply);chatHistory.push({role:'assistant',content:reply});saveChatHistory();
  }catch(e){document.getElementById(tid)?.remove();appendBubble('ai','‚ö†Ô∏è Could not reach the server.');}
  document.getElementById('sendBtn').disabled=false;
}
function appendBubble(role,text){
  const av=role==='ai'?'ü§ñ':'üßë';
  document.getElementById('aiMessages').insertAdjacentHTML('beforeend',
    `<div class="msg ${role}">${role==='ai'?`<div class="msg-av" aria-hidden="true">${av}</div>`:''}<div class="msg-bubble">${escHtml(text).replace(/\n/g,'<br>')}</div>${role==='user'?`<div class="msg-av" aria-hidden="true">${av}</div>`:''}</div>`);
  scrollChat();
}
function scrollChat(){const el=document.getElementById('aiMessages');el.scrollTop=el.scrollHeight;}
function qp(text){document.getElementById('aiInput').value=text;sendMsg();}
function restoreChatUI(){
  const c=document.getElementById('aiMessages');c.innerHTML='';
  if(!chatHistory.length){c.innerHTML=`<div class="msg ai"><div class="msg-av" aria-hidden="true">ü§ñ</div><div class="msg-bubble">Hey ${currentUser.name.split(' ')[0]}! üëã I'm StudyBot AI. I can see all your tasks and remember our chats.<br><br>What would you like help with today?</div></div>`;return;}
  chatHistory.forEach(m=>{if(m.role!=='system')appendBubble(m.role==='user'?'user':'ai',m.content);});
}

// Keyboard close modal on Escape
document.addEventListener('keydown',e=>{
  if(e.key==='Escape'){
    closeModal();
    document.getElementById('notifPanel').classList.remove('open');
  }
});

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// INIT
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
(function init(){
  renderSavedUsers();
  const session=getSession();
  if(session?.email){
    const users=getUsers();
    if(users[session.email]){startApp(session.email,users[session.email].name);}
    else{ls.del(SK.session);showLanding();}
  } else {
    showLanding();
  }
})();
</script>
</body>
</html>